import{getRequestEvent as vt,isServer as J,createComponent as n,mergeProps as l,ssr as E,ssrHydrationKey as L,ssrStyle as bt,ssrElement as N,escape as R,Portal as xt}from"solid-js/web";import{createContext as Z,useContext as $,createResource as wt,splitProps as m,createMemo as j,createEffect as O,on as Q,createUniqueId as ee,createSignal as C,onCleanup as _,Show as te,batch as Ce}from"solid-js";import{g as me,p as yt,c as Ct}from"./utils.mjs";import{CountryDataContext as fe}from"./c_9hizgz.mjs";import{I as re,m as V,P as S,g as A,j as It,k as Dt,l as Vt,d as ne,n as z,_ as pe,v as Pt,o as he,u as Ft,c as Le,B as ve,s as Ie,p as De,e as v,q as X,r as Ot,t as St,w as Tt,D as Nt,x as Rt,y as Ve,b as kt,z as Pe}from"./index2.mjs";import{z as G}from"zod";import{deleteCountry as At}from"./c_ol5iyx.mjs";import{access as h}from"@solid-primitives/utils";import{NumberParser as Et,NumberFormatter as Lt}from"@internationalized/number";import{cva as Mt}from"class-variance-authority";import{combineStyle as $t}from"@solid-primitives/props";const Me=Z(void 0),Fe=t=>t===null?{status:"unauthenticated",data:null}:t?{status:"authenticated",data:t}:{status:"loading",data:void 0},Rr=()=>{const t=$(Me);if(!t)throw new Error("[@solid-mediakit/auth]: `useAuth` must be wrapped in a <SessionProvider />");return{signIn:async(o,a,s)=>await zt(t.refetchSessionState,o,a,s),signOut:async o=>await Ht(t.refetchSessionState,o),status:()=>t.sessionState().status,session:()=>t.sessionState().data,refetch:async o=>await t.refetchSessionState(o)}},_t=t=>t.locals?.session?t.locals.session:t.nativeEvent?.context?.session;function kr(t){const r=vt(),e=J?_t(r):void 0,o=async()=>{try{const u=await Bt(r);return u?{status:"authenticated",data:u}:{status:"unauthenticated",data:null}}catch(u){return console.error("@solid-mediakit/auth error",u),{status:"unauthenticated",data:null}}},[a,{refetch:s}]=wt(async(u,i)=>{const c=typeof i.refetching=="object"?i.refetching.force:!1,d=i.value;return J&&e!==void 0&&!c?Fe(e):!c&&d?.status!=="loading"?d:await o()},{initialValue:e?Fe(e):{status:"loading",data:void 0},deferStream:t.deferStream??!0});return n(Me.Provider,{value:{sessionState:a,refetchSessionState:async u=>{const i=await s({force:u??!1});return i??{status:"loading",data:void 0}}},get children(){return t.children}})}const qt=t=>typeof window>"u"?`${yt(Ct("AUTH_URL_INTERNAL","AUTH_URL","VERCEL_URL")).origin}${t}`:t,Bt=async t=>{let r;if(J&&t?.request){const a=t.request.headers.get("cookie");a&&(r={headers:{cookie:a}})}const e=await fetch(qt(`${me()}/session`),r);if(J&&t?.request&&t?.response){const a=e.headers.get("set-cookie");if(a)try{t.response.headers.append("set-cookie",a??"")}catch{}}const o=await e.json();if(!e.ok)throw new Error(o.error);return!o||Object.keys(o).length===0?null:o};async function zt(t,r,e,o){const{callbackUrl:a=window.location.href,redirect:s=!0}=e??{},u=r==="credentials",c=u||r==="email",d=me(),I=`${`${d}/${u?"callback":"signin"}/${r}`}?${new URLSearchParams(o)}`,f=await fetch(`${d}/csrf`),{csrfToken:p}=await f.json(),b=await fetch(I,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...e,csrfToken:p,callbackUrl:a})}),x=await b.clone().json();if(s||!c){window.location.href=x.url??a,x.url.includes("#")&&window.location.reload();return}const D=new URL(x.url).searchParams.get("error"),T=new URL(x.url).searchParams.get("code");return b.ok&&await t(!0),{error:D,code:T,status:b.status,ok:b.ok,url:D?null:x.url}}async function Ht(t,r){const{redirectTo:e=window.location.href}=r??{},o=me(),a=await fetch(`${o}/csrf`),{csrfToken:s}=await a.json(),i=await(await fetch(`${o}/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:s,callbackUrl:e})})).json();if(r?.redirect??!0){const c=i.url??e;window.location.href=c,c.includes("#")&&window.location.reload();return}return await t(!0),i}function Ar(t){return re({a:{viewBox:"0 0 1024 1024"},c:'<path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"/>'},t)}function Er(t){return re({a:{viewBox:"0 0 1024 1024"},c:'<path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zM349.3 793.7H230.6V411.9h118.7v381.8zm-59.3-434a68.8 68.8 0 1 1 68.8-68.8c-.1 38-30.9 68.8-68.8 68.8zm503.7 434H675.1V608c0-44.3-.8-101.2-61.7-101.2-61.7 0-71.2 48.2-71.2 98v188.9H423.7V411.9h113.8v52.2h1.6c15.8-30 54.5-61.7 112.3-61.7 120.2 0 142.3 79.1 142.3 181.9v209.4z"/>'},t)}function Lr(t){return re({a:{viewBox:"0 0 1024 1024"},c:'<path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"/>'},t)}function Ut(t){return re({a:{viewBox:"0 0 1024 1024"},c:'<defs><style/></defs><path d="M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"/><path d="M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8Z"/>'},t)}const jt=G.object({name:G.string().min(4,"Name must be at least 4 characters long"),populationSize:G.number().positive().max(1429e6,"Population size cannot exceed 1,429,000,000"),landArea:G.number().positive().max(1429e6,"Land area cannot exceed 1,429,000,000 km²")});var Kt={empty:"Empty"};function Wt(t){const r=V({translations:Kt},t),[e,o]=m(r,["translations","value","textValue","minValue","maxValue","validationState","onIncrement","onIncrementPage","onDecrement","onDecrementPage","onDecrementToMin","onIncrementToMax","onKeyDown","onFocus","onBlur"]);let a=!1;const s=j(()=>e.textValue===""?e.translations?.empty:(e.textValue||`${e.value}`).replace("-","−")),u=d=>{if(A(d,e.onKeyDown),!(d.ctrlKey||d.metaKey||d.shiftKey||d.altKey||t.readOnly))switch(d.key){case"PageUp":if(e.onIncrementPage){d.preventDefault(),e.onIncrementPage();break}case"ArrowUp":case"Up":e.onIncrement&&(d.preventDefault(),e.onIncrement());break;case"PageDown":if(e.onDecrementPage){d.preventDefault(),e.onDecrementPage();break}case"ArrowDown":case"Down":e.onDecrement&&(d.preventDefault(),e.onDecrement());break;case"Home":e.onDecrementToMin&&(d.preventDefault(),e.onDecrementToMin());break;case"End":e.onIncrementToMax&&(d.preventDefault(),e.onIncrementToMax());break}},i=d=>{A(d,e.onFocus),a=!0},c=d=>{A(d,e.onBlur),a=!1};return O(Q(s,d=>{a&&(It("assertive"),Dt(d??"","assertive"))})),n(S,l({as:"div",role:"spinbutton",get"aria-valuenow"(){return e.value!=null&&!Number.isNaN(e.value)?e.value:void 0},get"aria-valuetext"(){return s()},get"aria-valuemin"(){return e.minValue},get"aria-valuemax"(){return e.maxValue},get"aria-required"(){return t.required||void 0},get"aria-disabled"(){return t.disabled||void 0},get"aria-readonly"(){return t.readOnly||void 0},get"aria-invalid"(){return e.validationState==="invalid"||void 0},onKeyDown:u,onFocus:i,onBlur:c},o))}var $e=["id","name","validationState","required","disabled","readOnly"];function _e(t){const r=`form-control-${ee()}`,e=V({id:r},t),[o,a]=C(),[s,u]=C(),[i,c]=C(),[d,y]=C(),I=(x,D,T)=>{const K=T!=null||o()!=null;return[T,o(),K&&D!=null?x:void 0].filter(Boolean).join(" ")||void 0},f=x=>[i(),d(),x].filter(Boolean).join(" ")||void 0,p=j(()=>({"data-valid":h(e.validationState)==="valid"?"":void 0,"data-invalid":h(e.validationState)==="invalid"?"":void 0,"data-required":h(e.required)?"":void 0,"data-disabled":h(e.disabled)?"":void 0,"data-readonly":h(e.readOnly)?"":void 0}));return{formControlContext:{name:()=>h(e.name)??h(e.id),dataset:p,validationState:()=>h(e.validationState),isRequired:()=>h(e.required),isDisabled:()=>h(e.disabled),isReadOnly:()=>h(e.readOnly),labelId:o,fieldId:s,descriptionId:i,errorMessageId:d,getAriaLabelledBy:I,getAriaDescribedBy:f,generateId:ne(()=>h(e.id)),registerLabel:z(a),registerField:z(u),registerDescription:z(c),registerErrorMessage:z(y)}}}var be=Z();function q(){const t=$(be);if(t===void 0)throw new Error("[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component");return t}function ae(t){const r=q(),e=V({id:r.generateId("description")},t);return O(()=>_(r.registerDescription(e.id))),n(S,l({as:"div"},()=>r.dataset(),e))}function oe(t){const r=q(),e=V({id:r.generateId("error-message")},t),[o,a]=m(e,["forceMount"]),s=()=>r.validationState()==="invalid";return O(()=>{s()&&_(r.registerErrorMessage(a.id))}),n(te,{get when(){return o.forceMount||s()},get children(){return n(S,l({as:"div"},()=>r.dataset(),a))}})}function se(t){let r;const e=q(),o=V({id:e.generateId("label")},t),[a,s]=m(o,["ref"]),u=Vt(()=>r,()=>"label");return O(()=>_(e.registerLabel(s.id))),n(S,l({as:"label",get for(){return u()==="label"?e.fieldId():void 0}},()=>e.dataset(),s))}var qe=["id","aria-label","aria-labelledby","aria-describedby"];function Be(t){const r=q(),e=V({id:r.generateId("field")},t);return O(()=>_(r.registerField(h(e.id)))),{fieldProps:{id:()=>h(e.id),ariaLabel:()=>h(e["aria-label"]),ariaLabelledBy:()=>r.getAriaLabelledBy(h(e.id),h(e["aria-label"]),h(e["aria-labelledby"])),ariaDescribedBy:()=>r.getAriaDescribedBy(h(e["aria-describedby"]))}}}function ze(t,r){O(Q(t,e=>{if(e==null)return;const o=Gt(e);o!=null&&(o.addEventListener("reset",r,{passive:!0}),_(()=>{o.removeEventListener("reset",r)}))}))}function Gt(t){return Xt(t)?t.form:t.closest("form")}function Xt(t){return t.matches("textarea, input, select, button")}var Zt=["<div",' style="','" aria-hidden="true">',"</div>"],Yt={};pe(Yt,{DecrementTrigger:()=>je,Description:()=>ae,ErrorMessage:()=>oe,HiddenInput:()=>Ke,IncrementTrigger:()=>We,Input:()=>Ge,Label:()=>se,NumberField:()=>B,Root:()=>Xe});var He=Z();function xe(){const t=$(He);if(t===void 0)throw new Error("[kobalte]: `useNumberFieldContext` must be used within a `NumberField` component");return t}function Ue(t){const r=q(),e=xe(),[o,a]=m(t,["numberFieldVaryType","onClick"]);return n(ve,l({tabIndex:-1,get disabled(){return r.isDisabled()||e.rawValue()===(o.numberFieldVaryType==="increment"?e.maxValue():e.minValue())},get"aria-controls"(){return r.fieldId()},onClick:s=>{A(s,o.onClick),e.varyValue(e.step()*(o.numberFieldVaryType==="increment"?1:-1)),e.inputRef()?.focus()}},a))}function je(t){return n(Ue,l({numberFieldVaryType:"decrement"},t))}function Ke(t){const r=xe(),[e,o]=m(t,["ref","onChange"]),a=q();return E(Zt,L(),bt(Pt),N("input",l({type:"text",tabIndex:-1,style:{"font-size":"16px"},get name(){return a.name()},get value(){return Number.isNaN(r.rawValue())?"":r.rawValue()},get required(){return a.isRequired()},get disabled(){return a.isDisabled()},get readOnly(){return a.isReadOnly()}},o),void 0,!1))}function We(t){return n(Ue,l({numberFieldVaryType:"increment"},t))}function Ge(t){const r=q(),e=xe(),o=V({id:e.generateId("input"),inputMode:"decimal",autocomplete:"off",autocorrect:"off",spellcheck:!1},t),[a,s,u]=m(o,["ref","onInput","onChange","onWheel","as"],qe),{fieldProps:i}=Be(s);return n(Wt,l({type:"text",get id(){return i.id()},get value(){return e.value()},get validationState(){return r.validationState()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readOnly(){return r.isReadOnly()},get textValue(){return e.textValue()},get minValue(){return e.minValue()},get maxValue(){return e.maxValue()},onIncrement:()=>{e.varyValue(e.step())},onIncrementPage:()=>{e.varyValue(e.largeStep())},onIncrementToMax:()=>{e.setValue(e.maxValue()),e.format()},onDecrement:()=>{e.varyValue(-e.step())},onDecrementPage:()=>{e.varyValue(-e.largeStep())},onDecrementToMin:()=>{e.setValue(e.minValue()),e.format()},get translations(){return e.translations()},onChange:c=>{A(c,a.onChange),e.format()},onWheel:c=>{A(c,a.onWheel),!(!e.changeOnWheel()||document.activeElement!==e.inputRef())&&(c.preventDefault(),c.deltaY<0?e.varyValue(e.step()):e.varyValue(-e.step()))},get onInput(){return he([a.onInput,e.onInput])},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()}},()=>r.dataset(),{as:c=>n(S,l({get as(){return a.as||"input"},get value(){return Number.isNaN(e.rawValue())||e.value()===void 0?"":e.formatNumber(e.rawValue())},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readOnly(){return r.isReadOnly()}},c,u))}))}function Xe(t){let r;const e=`NumberField-${ee()}`,o=V({id:e,format:!0,minValue:Number.MIN_SAFE_INTEGER,maxValue:Number.MAX_SAFE_INTEGER,step:1,changeOnWheel:!0},t),[a,s,u]=m(o,["ref","value","defaultValue","onChange","rawValue","onRawValueChange","translations","format","formatOptions","textValue","minValue","maxValue","step","largeStep","changeOnWheel","translations","allowedInput"],$e),{locale:i}=Ft(),c=j(()=>new Et(i(),a.formatOptions)),d=j(()=>new Lt(i(),a.formatOptions)),y=g=>a.format?d().format(g):g.toString(),I=g=>a.format&&typeof g!="number"?c().parse(g??""):Number(g??""),f=g=>a.format&&typeof g!="number"?c().isValidPartialNumber(g??"",o.minValue,o.maxValue):!Number.isNaN(Number(g)),[p,b]=Le({value:()=>a.value,defaultValue:()=>a.defaultValue??a.rawValue,onChange:g=>{a.onChange?.(typeof g=="number"?y(g):g),a.onRawValueChange?.(I(g))}});p()!==void 0&&a.onRawValueChange?.(I(p()));function x(g){return a.allowedInput!==void 0?a.allowedInput.test(g):!0}const{formControlContext:D}=_e(s);ze(()=>r,()=>{b(a.defaultValue??"")});const[T,K]=C(),[M,le]=C(),ht=g=>{if(D.isReadOnly()||D.isDisabled())return;const w=g.target;let F=w.selectionStart;f(w.value)?(g.inputType!=="insertText"||x(g.data||""))&&b(w.value):g.inputType==="deleteContentBackward"&&F!==null&&(F+=1);const U=p();U!==w.value&&(w.value=String(U??""),F!==null&&(w.selectionStart=F,w.selectionEnd=F))},P={value:p,setValue:b,rawValue:()=>I(p()),generateId:ne(()=>h(s.id)),formatNumber:y,format:()=>{if(!a.format)return;let g=P.rawValue();if(Number.isNaN(g)){M()&&(M().value=""),a.onRawValueChange?.(g);return}P.minValue()&&(g=Math.max(g,P.minValue())),P.maxValue()&&(g=Math.min(g,P.maxValue()));const w=P.formatNumber(g);p()!=w&&b(w),T()&&(T().value=w),M()&&(M().value=String(g))},onInput:ht,textValue:()=>a.textValue,minValue:()=>a.minValue,maxValue:()=>a.maxValue,step:()=>a.step,largeStep:()=>a.largeStep??a.step*10,changeOnWheel:()=>a.changeOnWheel,translations:()=>a.translations,inputRef:T,setInputRef:K,hiddenInputRef:M,setHiddenInputRef:le,varyValue:g=>{let w=P.rawValue()??0;Number.isNaN(w)&&(w=0),Ce(()=>{let F=w;const U=g>0?"+":"-",ce=Math.abs(g),we=t.minValue===void 0?Number.NaN:P.minValue(),ye=t.maxValue===void 0?Number.NaN:P.maxValue();F=Ie(w,we,ye,ce),U==="+"&&F>w||U==="-"&&F<w||(F=Ie(Jt(U,w,ce),we,ye,ce)),P.setValue(F),P.format()})}};return O(Q(()=>a.rawValue,g=>{if(g!==P.rawValue()){if(Number.isNaN(g))return;Ce(()=>{b(g??""),P.format()})}},{defer:!0})),n(be.Provider,{value:D,get children(){return n(He.Provider,{value:P,get children(){return n(S,l({as:"div",role:"group",get id(){return h(s.id)}},()=>D.dataset(),u))}})}})}function Jt(t,r,e){let o=t==="+"?r+e:r-e;if(Number.isFinite(r)&&Number.isFinite(e)&&(e%1!==0||r%1!==0)){const a=De(e),s=De(r),u=10**Math.max(a,s),i=Math.round(e*u),c=Math.round(r*u);o=(t==="+"?c+i:c-i)/u}return o}var B=Object.assign(Xe,{Description:ae,ErrorMessage:oe,HiddenInput:Ke,Input:Ge,IncrementTrigger:We,DecrementTrigger:je,Label:se}),Qt={};pe(Qt,{Description:()=>ae,ErrorMessage:()=>oe,Input:()=>Je,Label:()=>se,Root:()=>et,TextArea:()=>tt,TextField:()=>Y});var Ze=Z();function Ye(){const t=$(Ze);if(t===void 0)throw new Error("[kobalte]: `useTextFieldContext` must be used within a `TextField` component");return t}function Je(t){return n(Qe,l({type:"text"},t))}function Qe(t){const r=q(),e=Ye(),o=V({id:e.generateId("input")},t),[a,s,u]=m(o,["onInput"],qe),{fieldProps:i}=Be(s);return n(S,l({as:"input",get id(){return i.id()},get name(){return r.name()},get value(){return e.value()},get required(){return r.isRequired()},get disabled(){return r.isDisabled()},get readonly(){return r.isReadOnly()},get"aria-label"(){return i.ariaLabel()},get"aria-labelledby"(){return i.ariaLabelledBy()},get"aria-describedby"(){return i.ariaDescribedBy()},get"aria-invalid"(){return r.validationState()==="invalid"||void 0},get"aria-required"(){return r.isRequired()||void 0},get"aria-disabled"(){return r.isDisabled()||void 0},get"aria-readonly"(){return r.isReadOnly()||void 0},get onInput(){return he([a.onInput,e.onInput])}},()=>r.dataset(),u))}function et(t){let r;const e=`textfield-${ee()}`,o=V({id:e},t),[a,s,u]=m(o,["ref","value","defaultValue","onChange"],$e),i=a.value,[c,d]=Le({value:()=>i===void 0?void 0:a.value??"",defaultValue:()=>a.defaultValue,onChange:p=>a.onChange?.(p)}),{formControlContext:y}=_e(s);ze(()=>r,()=>d(a.defaultValue??""));const I=p=>{if(y.isReadOnly()||y.isDisabled())return;const b=p.target;d(b.value),b.value=c()??""},f={value:c,generateId:ne(()=>h(s.id)),onInput:I};return n(be.Provider,{value:y,get children(){return n(Ze.Provider,{value:f,get children(){return n(S,l({as:"div",role:"group",get id(){return h(s.id)}},()=>y.dataset(),u))}})}})}function tt(t){let r;const e=Ye(),o=V({id:e.generateId("textarea")},t),[a,s]=m(o,["ref","autoResize","submitOnEnter","onKeyPress"]);O(Q([()=>r,()=>a.autoResize,()=>e.value()],([i,c])=>{!i||!c||er(i)}));const u=i=>{};return n(Qe,l({as:"textarea",get"aria-multiline"(){return a.submitOnEnter?"false":void 0},get onKeyPress(){return he([a.onKeyPress,u])}},s))}function er(t){const r=t.style.alignSelf,e=t.style.overflow;"MozAppearance"in t.style||(t.style.overflow="hidden"),t.style.alignSelf="start",t.style.height="auto",t.style.height=`${t.scrollHeight+(t.offsetHeight-t.clientHeight)}px`,t.style.overflow=e,t.style.alignSelf=r}var Y=Object.assign(et,{Description:ae,ErrorMessage:oe,Input:Je,Label:se,TextArea:tt});const tr=t=>{const[r,e]=m(t,["class"]);return n(Y,l({get class(){return v("space-y-1",r.class)}},e))},ie=Mt("text-sm data-[disabled]:cursor-not-allowed data-[disabled]:opacity-70 font-medium",{variants:{label:{true:"data-[invalid]:text-destructive"},error:{true:"text-destructive text-xs"},description:{true:"font-normal text-muted-foreground"}},defaultVariants:{label:!0}}),rr=t=>{const[r,e]=m(t,["class"]);return n(Y.Label,l({get class(){return v(ie(),r.class)}},e))},nr=t=>{const[r,e]=m(t,["class"]);return n(Y.ErrorMessage,l({get class(){return v(ie({error:!0}),r.class)}},e))},ar=t=>{const[r,e]=m(t,["class"]);return n(Y.Input,l({get class(){return v("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-shadow file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-[1.5px] focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r.class)}},e))};var or=["<svg",' xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14"></path><title>Decreasing number</title></svg>'],sr=["<svg",' xmlns="http://www.w3.org/2000/svg" class="size-4" viewBox="0 0 24 24"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v14m-7-7h14"></path><title>Increase number</title></svg>'];B.HiddenInput;const Oe=t=>{const[r,e]=m(t,["class"]);return n(B.Label,l({get class(){return v(ie({label:!0}),r.class)}},e))},Se=t=>{const[r,e]=m(t,["class"]);return n(B.ErrorMessage,l({get class(){return v(ie({error:!0}),r.class)}},e))},Te=t=>{const[r,e]=m(t,["class"]);return n(B,l({get class(){return v("grid gap-1.5",r.class)}},e))},Ne=t=>{const[r,e]=m(t,["class"]);return N("div",l({get class(){return v("relative rounded-md transition-shadow focus-within:outline-none focus-within:ring-[1.5px] focus-within:ring-ring",r.class)}},e),void 0,!0)},Re=t=>{const[r,e]=m(t,["class"]);return n(B.Input,l({get class(){return v("flex h-9 w-full rounded-md border border-input bg-transparent px-10 py-1 text-center text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",r.class)}},e))},ke=t=>{const[r,e]=m(t,["class"]);return n(B.DecrementTrigger,l({get class(){return v("absolute left-0 top-1/2 -translate-y-1/2 p-3 disabled:cursor-not-allowed disabled:opacity-20",r.class)}},e,{get children(){return E(or,L())}}))},Ae=t=>{const[r,e]=m(t,["class"]);return n(B.IncrementTrigger,l({get class(){return v("absolute right-0 top-1/2 -translate-y-1/2 p-3 disabled:cursor-not-allowed disabled:opacity-20",r.class)}},e,{get children(){return E(sr,L())}}))};var ir=["<div",'><form class="flex gap-1 flex-col"><!--$-->',"<!--/--><!--$-->","<!--/--><!--$-->",'<!--/--><div class="flex flex-col-reverse">',"</div></form></div>"];function lr(){const{countries:t,refetch:r}=$(fe),[e,o]=C(""),[a,s]=C(0),[u,i]=C(0),[c,d]=C({}),y=j(()=>{const p=t();return!p||!Array.isArray(p)?!0:!p.some(b=>b.name&&b.name.toLowerCase()===e().toLowerCase())}),I=()=>{const p={name:e(),populationSize:a(),landArea:u()};try{if(jt.parse(p),!y())throw new Error("Name must be unique");return d({}),!0}catch(b){if(b instanceof G.ZodError){const x={};b.errors.forEach(D=>{D.path&&(x[D.path[0]]=D.message)}),y()||(x.name="Name must be unique"),d(x)}return!1}},f=j(()=>I());return E(ir,L(),R(n(tr,{class:"mb-4",get value(){return e()},onChange:p=>o(p),get children(){return[n(rr,{children:"Name"}),n(ar,{required:!0,type:"text"}),c().name&&n(nr,{get children(){return c().name}})]}})),R(n(Te,{minValue:0,maxValue:1429e6,onRawValueChange:p=>s(Number(p)),class:"mb-4",get children(){return[n(Oe,{children:"Population size"}),n(Ne,{get children(){return[n(ke,{"aria-label":"Decrement"}),n(Re,{placeholder:"0"}),c().populationSize&&n(Se,{get children(){return c().populationSize}}),n(Ae,{"aria-label":"Increment"})]}})]}})),R(n(Te,{minValue:0,maxValue:1429e6,class:"mb-4",onRawValueChange:p=>i(Number(p)),get children(){return[n(Oe,{children:"Land area in km2"}),n(Ne,{get children(){return[n(ke,{"aria-label":"Decrement"}),n(Re,{placeholder:"0"}),c().landArea&&n(Se,{get children(){return c().landArea}}),n(Ae,{"aria-label":"Increment"})]}})]}})),R(n(X,{type:"submit",get disabled(){return!f()},children:"Submit"})))}var cr={};pe(cr,{CloseButton:()=>nt,Content:()=>at,Description:()=>ot,Dialog:()=>k,Overlay:()=>st,Portal:()=>it,Root:()=>lt,Title:()=>ct,Trigger:()=>ut});var rt=Z();function H(){const t=$(rt);if(t===void 0)throw new Error("[kobalte]: `useDialogContext` must be used within a `Dialog` component");return t}function nt(t){const r=H(),[e,o]=m(t,["aria-label","onClick"]);return n(ve,l({get"aria-label"(){return e["aria-label"]||r.translations().dismiss},onClick:s=>{A(s,e.onClick),r.close()}},o))}function at(t){let r;const e=H(),o=V({id:e.generateId("content")},t),[a,s]=m(o,["ref","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let u=!1,i=!1;const c=f=>{a.onPointerDownOutside?.(f),e.modal()&&f.detail.isContextMenu&&f.preventDefault()},d=f=>{a.onFocusOutside?.(f),e.modal()&&f.preventDefault()},y=f=>{a.onInteractOutside?.(f),!e.modal()&&(f.defaultPrevented||(u=!0,f.detail.originalEvent.type==="pointerdown"&&(i=!0)),kt(e.triggerRef(),f.target)&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&i&&f.preventDefault())},I=f=>{a.onCloseAutoFocus?.(f),e.modal()?(f.preventDefault(),Pe(e.triggerRef())):(f.defaultPrevented||(u||Pe(e.triggerRef()),f.preventDefault()),u=!1,i=!1)};return Ot({isDisabled:()=>!(e.isOpen()&&e.modal()),targets:()=>[]}),St({element:()=>null,enabled:()=>e.contentPresent()&&e.preventScroll()}),Tt({trapFocus:()=>e.isOpen()&&e.modal(),onMountAutoFocus:a.onOpenAutoFocus,onUnmountAutoFocus:I},()=>r),O(()=>_(e.registerContentId(s.id))),n(te,{get when(){return e.contentPresent()},get children(){return n(Nt,l({role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return e.modal()&&e.isOpen()},get excludedElements(){return[e.triggerRef]},get"aria-labelledby"(){return e.titleId()},get"aria-describedby"(){return e.descriptionId()},get"data-expanded"(){return e.isOpen()?"":void 0},get"data-closed"(){return e.isOpen()?void 0:""},onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:y,get onDismiss(){return e.close}},s))}})}function ot(t){const r=H(),e=V({id:r.generateId("description")},t),[o,a]=m(e,["id"]);return O(()=>_(r.registerDescriptionId(o.id))),n(S,l({as:"p",get id(){return o.id}},a))}function st(t){const r=H(),[e,o]=m(t,["ref","style","onPointerDown"]),a=s=>{A(s,e.onPointerDown),s.target===s.currentTarget&&s.preventDefault()};return n(te,{get when(){return r.overlayPresent()},get children(){return n(S,l({as:"div",get style(){return $t({"pointer-events":"auto"},e.style)},get"data-expanded"(){return r.isOpen()?"":void 0},get"data-closed"(){return r.isOpen()?void 0:""},onPointerDown:a},o))}})}function it(t){const r=H();return n(te,{get when(){return r.contentPresent()||r.overlayPresent()},get children(){return n(xt,t)}})}var Ee={dismiss:"Dismiss"};function lt(t){const r=`dialog-${ee()}`,e=V({id:r,modal:!0,translations:Ee},t),[o,a]=C(),[s,u]=C(),[i,c]=C(),[d,y]=C(),[I,f]=C(),[p,b]=C(),x=Rt({open:()=>e.open,defaultOpen:()=>e.defaultOpen,onOpenChange:le=>e.onOpenChange?.(le)}),D=()=>e.forceMount||x.isOpen(),{present:T}=Ve({show:D,element:()=>d()??null}),{present:K}=Ve({show:D,element:()=>I()??null}),M={translations:()=>e.translations??Ee,isOpen:x.isOpen,modal:()=>e.modal??!0,preventScroll:()=>e.preventScroll??M.modal(),contentId:o,titleId:s,descriptionId:i,triggerRef:p,overlayRef:d,setOverlayRef:y,contentRef:I,setContentRef:f,overlayPresent:T,contentPresent:K,close:x.close,toggle:x.toggle,setTriggerRef:b,generateId:ne(()=>e.id),registerContentId:z(a),registerTitleId:z(u),registerDescriptionId:z(c)};return n(rt.Provider,{value:M,get children(){return e.children}})}function ct(t){const r=H(),e=V({id:r.generateId("title")},t),[o,a]=m(e,["id"]);return O(()=>_(r.registerTitleId(o.id))),n(S,l({as:"h2",get id(){return o.id}},a))}function ut(t){const r=H(),[e,o]=m(t,["ref","onClick"]);return n(ve,l({"aria-haspopup":"dialog",get"aria-expanded"(){return r.isOpen()},get"aria-controls"(){return r.isOpen()?r.contentId():void 0},get"data-expanded"(){return r.isOpen()?"":void 0},get"data-closed"(){return r.isOpen()?void 0:""},onClick:s=>{A(s,e.onClick),r.toggle()}},o))}var k=Object.assign(lt,{CloseButton:nt,Content:at,Description:ot,Overlay:st,Portal:it,Title:ct,Trigger:ut}),ur=["<svg",' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 6L6 18M6 6l12 12"></path><title>Close</title></svg>'];const dt=k,gt=k.Trigger,mt=t=>{const[r,e]=m(t,["class","children"]);return n(k.Portal,{get children(){return[n(k.Overlay,l({get class(){return v("fixed inset-0 z-50 data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0")}},e)),n(k.Content,l({get class(){return v("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg data-[closed]:duration-200 data-[expanded]:duration-200 data-[expanded]:animate-in data-[closed]:animate-out data-[closed]:fade-out-0 data-[expanded]:fade-in-0 data-[closed]:zoom-out-95 data-[expanded]:zoom-in-95 data-[closed]:slide-out-to-left-1/2 data-[closed]:slide-out-to-top-[48%] data-[expanded]:slide-in-from-left-1/2 data-[expanded]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",r.class)}},e,{get children(){return[r.children,n(k.CloseButton,{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-[opacity,box-shadow] hover:opacity-100 focus:outline-none focus:ring-[1.5px] focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",get children(){return E(ur,L())}})]}}))]}})},ft=t=>{const[r,e]=m(t,["class"]);return n(k.Title,l({get class(){return v("text-lg font-semibold text-foreground",r.class)}},e))},ge=t=>{const[r,e]=m(t,["class"]);return n(k.Description,l({get class(){return v("text-sm text-muted-foreground",r.class)}},e))},pt=t=>{const[r,e]=m(t,["class"]);return N("div",l({get class(){return v("flex flex-col space-y-2 text-center sm:text-left",r.class)}},e),void 0,!0)},dr=t=>{const[r,e]=m(t,["class"]);return N("div",l({get class(){return v("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r.class)}},e),void 0,!0)};function gr(){return n(dt,{get children(){return[n(gt,{get children(){return n(X,{variant:"default",class:" border border-white hover:bg-white text-white hover:text-black",get children(){return n(Ut,{})}})}}),n(mt,{get children(){return n(pt,{get children(){return[n(ft,{class:"mb-8",children:"Add a new entry to database"}),n(ge,{get children(){return n(lr,{})}})]}})}})]}})}var mr=["<p",' class="italic ml-2">',"</p>"],fr=["<div",' class="flex justify-between flex-1"><!--$-->',"<!--/--><!--$-->","<!--/--></div>"];function pr(t){const{countries:r,refetch:e}=$(fe),[o,a]=C(!1);function s(u){const i=r();if(i&&i[u]){const c=i[u];At(c),e()}else console.error(`countryData object: ${i} threw exception`)}return n(dt,{get open(){return o()},onOpenChange:a,get children(){return[n(gt,{get children(){return n(X,{variant:"ghost",children:"X"})}}),n(mt,{get children(){return[n(pt,{get children(){return[n(ft,{class:"mb-2 flex",get children(){return["Confirm deletion of entry:",E(mr,L(),R(t.name))]}}),n(ge,{children:"Are you sure you want to delete this database entry?"}),n(ge,{children:" This action is irreversible"})]}}),n(dr,{get children(){return E(fr,L(),R(n(X,{onClick:()=>s(t.index),children:"Confirm"})),R(n(X,{onClick:()=>a(!1),children:"Cancel"})))}})]}})]}})}var hr=["<div",' class="w-full overflow-auto max-h-[60rem]">',"</div>"];const vr=t=>{const[r,e]=m(t,["class"]);return E(hr,L(),N("table",l({get class(){return v("w-full caption-bottom text-sm",r.class)}},e),void 0,!1))},br=t=>{const[r,e]=m(t,["class"]);return N("thead",l({get class(){return v("[&_tr]:border-b",r.class)}},e),void 0,!0)},xr=t=>{const[r,e]=m(t,["class"]);return N("tbody",l({get class(){return v("[&_tr:last-child]:border-0",r.class)}},e),void 0,!0)},ue=t=>{const[r,e]=m(t,["class"]);return N("tr",l({get class(){return v("border-b transition-colors data-[state=selected]:bg-muted",r.class)}},e),void 0,!0)},de=t=>{const[r,e]=m(t,["class"]);return N("th",l({get class(){return v("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r.class)}},e),void 0,!0)},W=t=>{const[r,e]=m(t,["class"]);return N("td",l({get class(){return v("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r.class)}},e),void 0,!0)};var wr=["<div",' class="flex flex-row justify-center flex-1 items-center"><div class="text-white border-2 bg-neutral-900 rounded-md p-12" id="center-div"><!--$-->',"<!--/--><!--$-->","<!--/--></div></div>"];function Mr(){const{countries:t}=$(fe);return E(wr,L(),R(n(vr,{get children(){return[n(br,{get children(){return n(ue,{get children(){return[n(de,{children:"Name"}),n(de,{children:"Population Size"}),n(de,{children:"Land Area in km2"})]}})}}),n(xr,{get children(){return t.loading?n(ue,{get children(){return n(W,{colSpan:2,children:"Loading..."})}}):t()?.map((r,e)=>n(ue,{get children(){return[n(W,{class:"truncate max-w-36",get children(){return r.name}}),n(W,{get children(){return r.populationSize}}),n(W,{get children(){return r.landArea}}),n(W,{get children(){return n(pr,{index:e,get name(){return r.name}})}})]}}))}})]}})),R(n(gr,{})))}export{Ar as A,ae as F,kr as S,Er as a,Lr as b,oe as c,se as d,qe as e,Be as f,q as g,$e as h,_e as i,ze as j,be as k,Mr as l,Rr as u};
