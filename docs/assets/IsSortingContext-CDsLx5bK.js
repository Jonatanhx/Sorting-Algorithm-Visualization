import{G as O,e as bt,ao as st,a0 as w,ap as rn,D as k,E,c as D,q as A,P as Y,h as T,a as Z,u as re,x as sn,J as ie,al as Xe,a3 as he,A as ln,O as cn,aq as an,o as $,ar as un,as as fn,at as dn,f as z,au as Se,av as gn,i as Ve,ak as le,aw as hn,ax as pn,ay as mn,az as lt,F as xt,aA as yn,X as V,aB as vn,aC as wn,aD as bn,$ as St,a4 as xn,ae as Sn,d as we,S as Ke,ah as Kn,a5 as B,af as Mn,ag as Cn,I as je,a1 as Me,ai as Kt,aj as Pn,ad as Dn,aE as In,K as ke,aF as On,aG as Tn,_ as An}from"./button-DZau4pWG.js";function Fn(e,t,o,n){return e.addEventListener(t,o,n),rn(e.removeEventListener.bind(e,t,o,n))}function kn(e,t,o,n){const r=()=>{st(w(e)).forEach(i=>{i&&st(w(t)).forEach(s=>Fn(i,s,o,n))})};typeof e=="function"?O(r):bt(r)}const Rn=["top","right","bottom","left"],ce=Math.min,_=Math.max,Re=Math.round,Fe=Math.floor,ee=e=>({x:e,y:e}),En={left:"right",right:"left",bottom:"top",top:"bottom"},Ln={start:"end",end:"start"};function He(e,t,o){return _(e,ce(t,o))}function pe(e,t){return typeof e=="function"?e(t):e}function ae(e){return e.split("-")[0]}function be(e){return e.split("-")[1]}function Mt(e){return e==="x"?"y":"x"}function qe(e){return e==="y"?"height":"width"}function de(e){return["top","bottom"].includes(ae(e))?"y":"x"}function Ze(e){return Mt(de(e))}function Vn(e,t,o){o===void 0&&(o=!1);const n=be(e),r=Ze(e),i=qe(r);let s=r==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ee(s)),[s,Ee(s)]}function Bn(e){const t=Ee(e);return[We(e),t,We(t)]}function We(e){return e.replace(/start|end/g,t=>Ln[t])}function $n(e,t,o){const n=["left","right"],r=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:n:t?n:r;case"left":case"right":return t?i:s;default:return[]}}function zn(e,t,o,n){const r=be(e);let i=$n(ae(e),o==="start",n);return r&&(i=i.map(s=>s+"-"+r),t&&(i=i.concat(i.map(We)))),i}function Ee(e){return e.replace(/left|right|bottom|top/g,t=>En[t])}function Nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ct(e){return typeof e!="number"?Nn(e):{top:e,right:e,bottom:e,left:e}}function Le(e){const{x:t,y:o,width:n,height:r}=e;return{width:n,height:r,top:o,left:t,right:t+n,bottom:o+r,x:t,y:o}}function ct(e,t,o){let{reference:n,floating:r}=e;const i=de(t),s=Ze(t),c=qe(s),l=ae(t),f=i==="y",d=n.x+n.width/2-r.width/2,m=n.y+n.height/2-r.height/2,y=n[c]/2-r[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-r.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-r.width,y:m};break;default:p={x:n.x,y:n.y}}switch(be(t)){case"start":p[s]-=y*(o&&f?-1:1);break;case"end":p[s]+=y*(o&&f?-1:1);break}return p}const _n=async(e,t,o)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s}=o,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:r}),{x:d,y:m}=ct(f,n,l),y=n,p={},v=0;for(let x=0;x<c.length;x++){const{name:h,fn:u}=c[x],{x:g,y:a,data:S,reset:b}=await u({x:d,y:m,initialPlacement:n,placement:y,strategy:r,middlewareData:p,rects:f,platform:s,elements:{reference:e,floating:t}});d=g??d,m=a??m,p={...p,[h]:{...p[h],...S}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(y=b.placement),b.rects&&(f=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:r}):b.rects),{x:d,y:m}=ct(f,y,l)),x=-1)}return{x:d,y:m,placement:y,strategy:r,middlewareData:p}};async function Ce(e,t){var o;t===void 0&&(t={});const{x:n,y:r,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:y=!1,padding:p=0}=pe(t,e),v=Ct(p),h=c[y?m==="floating"?"reference":"floating":m],u=Le(await i.getClippingRect({element:(o=await(i.isElement==null?void 0:i.isElement(h)))==null||o?h:h.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:d,strategy:l})),g=m==="floating"?{x:n,y:r,width:s.floating.width,height:s.floating.height}:s.reference,a=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(a))?await(i.getScale==null?void 0:i.getScale(a))||{x:1,y:1}:{x:1,y:1},b=Le(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:g,offsetParent:a,strategy:l}):g);return{top:(u.top-b.top+v.top)/S.y,bottom:(b.bottom-u.bottom+v.bottom)/S.y,left:(u.left-b.left+v.left)/S.x,right:(b.right-u.right+v.right)/S.x}}const Un=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:n,placement:r,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:f,padding:d=0}=pe(e,t)||{};if(f==null)return{};const m=Ct(d),y={x:o,y:n},p=Ze(r),v=qe(p),x=await s.getDimensions(f),h=p==="y",u=h?"top":"left",g=h?"bottom":"right",a=h?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[p]-y[p]-i.floating[v],b=y[p]-i.reference[p],P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let C=P?P[a]:0;(!C||!await(s.isElement==null?void 0:s.isElement(P)))&&(C=c.floating[a]||i.floating[v]);const K=S/2-b/2,M=C/2-x[v]/2-1,F=ce(m[u],M),H=ce(m[g],M),W=F,R=C-x[v]-H,L=C/2-x[v]/2+K,J=He(W,L,R),G=!l.arrow&&be(r)!=null&&L!==J&&i.reference[v]/2-(L<W?F:H)-x[v]/2<0,N=G?L<W?L-W:L-R:0;return{[p]:y[p]+N,data:{[p]:J,centerOffset:L-J-N,...G&&{alignmentOffset:N}},reset:G}}}),Hn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,n;const{placement:r,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:f}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...h}=pe(e,t);if((o=i.arrow)!=null&&o.alignmentOffset)return{};const u=ae(r),g=de(c),a=ae(c)===c,S=await(l.isRTL==null?void 0:l.isRTL(f.floating)),b=y||(a||!x?[Ee(c)]:Bn(c)),P=v!=="none";!y&&P&&b.push(...zn(c,x,v,S));const C=[c,...b],K=await Ce(t,h),M=[];let F=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&M.push(K[u]),m){const L=Vn(r,s,S);M.push(K[L[0]],K[L[1]])}if(F=[...F,{placement:r,overflows:M}],!M.every(L=>L<=0)){var H,W;const L=(((H=i.flip)==null?void 0:H.index)||0)+1,J=C[L];if(J)return{data:{index:L,overflows:F},reset:{placement:J}};let G=(W=F.filter(N=>N.overflows[0]<=0).sort((N,Q)=>N.overflows[1]-Q.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(p){case"bestFit":{var R;const N=(R=F.filter(Q=>{if(P){const X=de(Q.placement);return X===g||X==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(X=>X>0).reduce((X,Te)=>X+Te,0)]).sort((Q,X)=>Q[1]-X[1])[0])==null?void 0:R[0];N&&(G=N);break}case"initialPlacement":G=c;break}if(r!==G)return{reset:{placement:G}}}return{}}}};function at(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ut(e){return Rn.some(t=>e[t]>=0)}const Wn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:o}=t,{strategy:n="referenceHidden",...r}=pe(e,t);switch(n){case"referenceHidden":{const i=await Ce(t,{...r,elementContext:"reference"}),s=at(i,o.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:ut(s)}}}case"escaped":{const i=await Ce(t,{...r,altBoundary:!0}),s=at(i,o.floating);return{data:{escapedOffsets:s,escaped:ut(s)}}}default:return{}}}}};async function Gn(e,t){const{placement:o,platform:n,elements:r}=e,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),s=ae(o),c=be(o),l=de(o)==="y",f=["left","top"].includes(s)?-1:1,d=i&&l?-1:1,m=pe(t,e);let{mainAxis:y,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),l?{x:p*d,y:y*f}:{x:y*f,y:p*d}}const Yn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,n;const{x:r,y:i,placement:s,middlewareData:c}=t,l=await Gn(t,e);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},Xn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:r}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:h=>{let{x:u,y:g}=h;return{x:u,y:g}}},...l}=pe(e,t),f={x:o,y:n},d=await Ce(t,l),m=de(ae(r)),y=Mt(m);let p=f[y],v=f[m];if(i){const h=y==="y"?"top":"left",u=y==="y"?"bottom":"right",g=p+d[h],a=p-d[u];p=He(g,p,a)}if(s){const h=m==="y"?"top":"left",u=m==="y"?"bottom":"right",g=v+d[h],a=v-d[u];v=He(g,v,a)}const x=c.fn({...t,[y]:p,[m]:v});return{...x,data:{x:x.x-o,y:x.y-n,enabled:{[y]:i,[m]:s}}}}}},jn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var o,n;const{placement:r,rects:i,platform:s,elements:c}=t,{apply:l=()=>{},...f}=pe(e,t),d=await Ce(t,f),m=ae(r),y=be(r),p=de(r)==="y",{width:v,height:x}=i.floating;let h,u;m==="top"||m==="bottom"?(h=m,u=y===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(u=m,h=y==="end"?"top":"bottom");const g=x-d.top-d.bottom,a=v-d.left-d.right,S=ce(x-d[h],g),b=ce(v-d[u],a),P=!t.middlewareData.shift;let C=S,K=b;if((o=t.middlewareData.shift)!=null&&o.enabled.x&&(K=a),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=g),P&&!y){const F=_(d.left,0),H=_(d.right,0),W=_(d.top,0),R=_(d.bottom,0);p?K=v-2*(F!==0||H!==0?F+H:_(d.left,d.right)):C=x-2*(W!==0||R!==0?W+R:_(d.top,d.bottom))}await l({...t,availableWidth:K,availableHeight:C});const M=await s.getDimensions(c.floating);return v!==M.width||x!==M.height?{reset:{rects:!0}}:{}}}};function Be(){return typeof window<"u"}function xe(e){return Pt(e)?(e.nodeName||"").toLowerCase():"#document"}function U(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ne(e){var t;return(t=(Pt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pt(e){return Be()?e instanceof Node||e instanceof U(e).Node:!1}function j(e){return Be()?e instanceof Element||e instanceof U(e).Element:!1}function te(e){return Be()?e instanceof HTMLElement||e instanceof U(e).HTMLElement:!1}function ft(e){return!Be()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof U(e).ShadowRoot}function Ie(e){const{overflow:t,overflowX:o,overflowY:n,display:r}=q(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+o)&&!["inline","contents"].includes(r)}function qn(e){return["table","td","th"].includes(xe(e))}function $e(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Je(e){const t=Qe(),o=j(e)?q(e):e;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Zn(e){let t=ue(e);for(;te(t)&&!ve(t);){if(Je(t))return t;if($e(t))return null;t=ue(t)}return null}function Qe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ve(e){return["html","body","#document"].includes(xe(e))}function q(e){return U(e).getComputedStyle(e)}function ze(e){return j(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ue(e){if(xe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ft(e)&&e.host||ne(e);return ft(t)?t.host:t}function Dt(e){const t=ue(e);return ve(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&Ie(t)?t:Dt(t)}function Pe(e,t,o){var n;t===void 0&&(t=[]),o===void 0&&(o=!0);const r=Dt(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),s=U(r);if(i){const c=Ge(s);return t.concat(s,s.visualViewport||[],Ie(r)?r:[],c&&o?Pe(c):[])}return t.concat(r,Pe(r,[],o))}function Ge(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function It(e){const t=q(e);let o=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const r=te(e),i=r?e.offsetWidth:o,s=r?e.offsetHeight:n,c=Re(o)!==i||Re(n)!==s;return c&&(o=i,n=s),{width:o,height:n,$:c}}function et(e){return j(e)?e:e.contextElement}function ye(e){const t=et(e);if(!te(t))return ee(1);const o=t.getBoundingClientRect(),{width:n,height:r,$:i}=It(t);let s=(i?Re(o.width):o.width)/n,c=(i?Re(o.height):o.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Jn=ee(0);function Ot(e){const t=U(e);return!Qe()||!t.visualViewport?Jn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qn(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==U(e)?!1:t}function ge(e,t,o,n){t===void 0&&(t=!1),o===void 0&&(o=!1);const r=e.getBoundingClientRect(),i=et(e);let s=ee(1);t&&(n?j(n)&&(s=ye(n)):s=ye(e));const c=Qn(i,o,n)?Ot(i):ee(0);let l=(r.left+c.x)/s.x,f=(r.top+c.y)/s.y,d=r.width/s.x,m=r.height/s.y;if(i){const y=U(i),p=n&&j(n)?U(n):n;let v=y,x=Ge(v);for(;x&&n&&p!==v;){const h=ye(x),u=x.getBoundingClientRect(),g=q(x),a=u.left+(x.clientLeft+parseFloat(g.paddingLeft))*h.x,S=u.top+(x.clientTop+parseFloat(g.paddingTop))*h.y;l*=h.x,f*=h.y,d*=h.x,m*=h.y,l+=a,f+=S,v=U(x),x=Ge(v)}}return Le({width:d,height:m,x:l,y:f})}function tt(e,t){const o=ze(e).scrollLeft;return t?t.left+o:ge(ne(e)).left+o}function Tt(e,t,o){o===void 0&&(o=!1);const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-(o?0:tt(e,n)),i=n.top+t.scrollTop;return{x:r,y:i}}function eo(e){let{elements:t,rect:o,offsetParent:n,strategy:r}=e;const i=r==="fixed",s=ne(n),c=t?$e(t.floating):!1;if(n===s||c&&i)return o;let l={scrollLeft:0,scrollTop:0},f=ee(1);const d=ee(0),m=te(n);if((m||!m&&!i)&&((xe(n)!=="body"||Ie(s))&&(l=ze(n)),te(n))){const p=ge(n);f=ye(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const y=s&&!m&&!i?Tt(s,l,!0):ee(0);return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+d.x+y.x,y:o.y*f.y-l.scrollTop*f.y+d.y+y.y}}function to(e){return Array.from(e.getClientRects())}function no(e){const t=ne(e),o=ze(e),n=e.ownerDocument.body,r=_(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+tt(e);const c=-o.scrollTop;return q(n).direction==="rtl"&&(s+=_(t.clientWidth,n.clientWidth)-r),{width:r,height:i,x:s,y:c}}function oo(e,t){const o=U(e),n=ne(e),r=o.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,l=0;if(r){i=r.width,s=r.height;const f=Qe();(!f||f&&t==="fixed")&&(c=r.offsetLeft,l=r.offsetTop)}return{width:i,height:s,x:c,y:l}}function ro(e,t){const o=ge(e,!0,t==="fixed"),n=o.top+e.clientTop,r=o.left+e.clientLeft,i=te(e)?ye(e):ee(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=r*i.x,f=n*i.y;return{width:s,height:c,x:l,y:f}}function dt(e,t,o){let n;if(t==="viewport")n=oo(e,o);else if(t==="document")n=no(ne(e));else if(j(t))n=ro(t,o);else{const r=Ot(e);n={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Le(n)}function At(e,t){const o=ue(e);return o===t||!j(o)||ve(o)?!1:q(o).position==="fixed"||At(o,t)}function io(e,t){const o=t.get(e);if(o)return o;let n=Pe(e,[],!1).filter(c=>j(c)&&xe(c)!=="body"),r=null;const i=q(e).position==="fixed";let s=i?ue(e):e;for(;j(s)&&!ve(s);){const c=q(s),l=Je(s);!l&&c.position==="fixed"&&(r=null),(i?!l&&!r:!l&&c.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Ie(s)&&!l&&At(e,s))?n=n.filter(d=>d!==s):r=c,s=ue(s)}return t.set(e,n),n}function so(e){let{element:t,boundary:o,rootBoundary:n,strategy:r}=e;const s=[...o==="clippingAncestors"?$e(t)?[]:io(t,this._c):[].concat(o),n],c=s[0],l=s.reduce((f,d)=>{const m=dt(t,d,r);return f.top=_(m.top,f.top),f.right=ce(m.right,f.right),f.bottom=ce(m.bottom,f.bottom),f.left=_(m.left,f.left),f},dt(t,c,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lo(e){const{width:t,height:o}=It(e);return{width:t,height:o}}function co(e,t,o){const n=te(t),r=ne(t),i=o==="fixed",s=ge(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=ee(0);if(n||!n&&!i)if((xe(t)!=="body"||Ie(r))&&(c=ze(t)),n){const y=ge(t,!0,i,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else r&&(l.x=tt(r));const f=r&&!n&&!i?Tt(r,c):ee(0),d=s.left+c.scrollLeft-l.x-f.x,m=s.top+c.scrollTop-l.y-f.y;return{x:d,y:m,width:s.width,height:s.height}}function Ue(e){return q(e).position==="static"}function gt(e,t){if(!te(e)||q(e).position==="fixed")return null;if(t)return t(e);let o=e.offsetParent;return ne(e)===o&&(o=o.ownerDocument.body),o}function Ft(e,t){const o=U(e);if($e(e))return o;if(!te(e)){let r=ue(e);for(;r&&!ve(r);){if(j(r)&&!Ue(r))return r;r=ue(r)}return o}let n=gt(e,t);for(;n&&qn(n)&&Ue(n);)n=gt(n,t);return n&&ve(n)&&Ue(n)&&!Je(n)?o:n||Zn(e)||o}const ao=async function(e){const t=this.getOffsetParent||Ft,o=this.getDimensions,n=await o(e.floating);return{reference:co(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function uo(e){return q(e).direction==="rtl"}const kt={convertOffsetParentRelativeRectToViewportRelativeRect:eo,getDocumentElement:ne,getClippingRect:so,getOffsetParent:Ft,getElementRects:ao,getClientRects:to,getDimensions:lo,getScale:ye,isElement:j,isRTL:uo};function fo(e,t){let o=null,n;const r=ne(e);function i(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:f,top:d,width:m,height:y}=e.getBoundingClientRect();if(c||t(),!m||!y)return;const p=Fe(d),v=Fe(r.clientWidth-(f+m)),x=Fe(r.clientHeight-(d+y)),h=Fe(f),g={rootMargin:-p+"px "+-v+"px "+-x+"px "+-h+"px",threshold:_(0,ce(1,l))||1};let a=!0;function S(b){const P=b[0].intersectionRatio;if(P!==l){if(!a)return s();P?s(!1,P):n=setTimeout(()=>{s(!1,1e-7)},1e3)}a=!1}try{o=new IntersectionObserver(S,{...g,root:r.ownerDocument})}catch{o=new IntersectionObserver(S,g)}o.observe(e)}return s(!0),i}function go(e,t,o,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=et(e),d=r||i?[...f?Pe(f):[],...Pe(t)]:[];d.forEach(u=>{r&&u.addEventListener("scroll",o,{passive:!0}),i&&u.addEventListener("resize",o)});const m=f&&c?fo(f,o):null;let y=-1,p=null;s&&(p=new ResizeObserver(u=>{let[g]=u;g&&g.target===f&&p&&(p.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var a;(a=p)==null||a.observe(t)})),o()}),f&&!l&&p.observe(f),p.observe(t));let v,x=l?ge(e):null;l&&h();function h(){const u=ge(e);x&&(u.x!==x.x||u.y!==x.y||u.width!==x.width||u.height!==x.height)&&o(),x=u,v=requestAnimationFrame(h)}return o(),()=>{var u;d.forEach(g=>{r&&g.removeEventListener("scroll",o),i&&g.removeEventListener("resize",o)}),m?.(),(u=p)==null||u.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const ho=Yn,po=Xn,mo=Hn,yo=jn,vo=Wn,wo=Un,bo=(e,t,o)=>{const n=new Map,r={platform:kt,...o},i={...r.platform,_c:n};return _n(e,t,{...r,platform:i})};var xo=ln('<svg display=block viewBox="0 0 30 30"style=transform:scale(1.02)><g><path fill=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z></path><path stroke=none d=M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z>'),nt=Z();function ot(){const e=re(nt);if(e===void 0)throw new Error("[kobalte]: `usePopperContext` must be used within a `Popper` component");return e}var Ye=30,ht=Ye/2,So={top:180,right:-90,bottom:0,left:90};function Ko(e){const t=ot(),o=k({size:Ye},e),[n,r]=E(o,["ref","style","size"]),i=()=>t.currentPlacement().split("-")[0],s=Mo(t.contentRef),c=()=>s()?.getPropertyValue("background-color")||"none",l=()=>s()?.getPropertyValue(`border-${i()}-color`)||"none",f=()=>s()?.getPropertyValue(`border-${i()}-width`)||"0px",d=()=>Number.parseInt(f())*2*(Ye/n.size),m=()=>`rotate(${So[i()]} ${ht} ${ht}) translate(0 2)`;return D(Y,A({as:"div",ref(y){var p=ie(t.setArrowRef,n.ref);typeof p=="function"&&p(y)},"aria-hidden":"true",get style(){return Xe({position:"absolute","font-size":`${n.size}px`,width:"1em",height:"1em","pointer-events":"none",fill:c(),stroke:l(),"stroke-width":d()},n.style)}},r,{get children(){var y=sn(xo),p=y.firstChild,v=p.firstChild;return v.nextSibling,bt(()=>cn(p,"transform",m())),y}}))}function Mo(e){const[t,o]=T();return O(()=>{const n=e();n&&o(an(n).getComputedStyle(n))}),t}function Co(e){const t=ot(),[o,n]=E(e,["ref","style"]);return D(Y,A({as:"div",ref(r){var i=ie(t.setPositionerRef,o.ref);typeof i=="function"&&i(r)},"data-popper-positioner":"",get style(){return Xe({position:"absolute",top:0,left:0,"min-width":"max-content"},o.style)}},n))}function pt(e){const{x:t=0,y:o=0,width:n=0,height:r=0}=e??{};if(typeof DOMRect=="function")return new DOMRect(t,o,n,r);const i={x:t,y:o,width:n,height:r,top:o,right:t+n,bottom:o+r,left:t};return{...i,toJSON:()=>i}}function Po(e,t){return{contextElement:e,getBoundingClientRect:()=>{const n=t(e);return n?pt(n):e?e.getBoundingClientRect():pt()}}}function Do(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}var Io={top:"bottom",right:"left",bottom:"top",left:"right"};function Oo(e,t){const[o,n]=e.split("-"),r=Io[o];return n?o==="left"||o==="right"?`${r} ${n==="start"?"top":"bottom"}`:n==="start"?`${r} ${t==="rtl"?"right":"left"}`:`${r} ${t==="rtl"?"left":"right"}`:`${r} center`}function To(e){const t=k({getAnchorRect:y=>y?.getBoundingClientRect(),placement:"bottom",gutter:0,shift:0,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,hideWhenDetached:!1,detachedPadding:0,arrowPadding:4,overflowPadding:8},e),[o,n]=T(),[r,i]=T(),[s,c]=T(t.placement),l=()=>Po(t.anchorRef?.(),t.getAnchorRect),{direction:f}=he();async function d(){const y=l(),p=o(),v=r();if(!y||!p)return;const x=(v?.clientHeight||0)/2,h=typeof t.gutter=="number"?t.gutter+x:t.gutter??x;p.style.setProperty("--kb-popper-content-overflow-padding",`${t.overflowPadding}px`),y.getBoundingClientRect();const u=[ho(({placement:P})=>{const C=!!P.split("-")[1];return{mainAxis:h,crossAxis:C?void 0:t.shift,alignmentAxis:t.shift}})];if(t.flip!==!1){const P=typeof t.flip=="string"?t.flip.split(" "):void 0;if(P!==void 0&&!P.every(Do))throw new Error("`flip` expects a spaced-delimited list of placements");u.push(mo({padding:t.overflowPadding,fallbackPlacements:P}))}(t.slide||t.overlap)&&u.push(po({mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding})),u.push(yo({padding:t.overflowPadding,apply({availableWidth:P,availableHeight:C,rects:K}){const M=Math.round(K.reference.width);P=Math.floor(P),C=Math.floor(C),p.style.setProperty("--kb-popper-anchor-width",`${M}px`),p.style.setProperty("--kb-popper-content-available-width",`${P}px`),p.style.setProperty("--kb-popper-content-available-height",`${C}px`),t.sameWidth&&(p.style.width=`${M}px`),t.fitViewport&&(p.style.maxWidth=`${P}px`,p.style.maxHeight=`${C}px`)}})),t.hideWhenDetached&&u.push(vo({padding:t.detachedPadding})),v&&u.push(wo({element:v,padding:t.arrowPadding}));const g=await bo(y,p,{placement:t.placement,strategy:"absolute",middleware:u,platform:{...kt,isRTL:()=>f()==="rtl"}});if(c(g.placement),t.onCurrentPlacementChange?.(g.placement),!p)return;p.style.setProperty("--kb-popper-content-transform-origin",Oo(g.placement,f()));const a=Math.round(g.x),S=Math.round(g.y);let b;if(t.hideWhenDetached&&(b=g.middlewareData.hide?.referenceHidden?"hidden":"visible"),Object.assign(p.style,{top:"0",left:"0",transform:`translate3d(${a}px, ${S}px, 0)`,visibility:b}),v&&g.middlewareData.arrow){const{x:P,y:C}=g.middlewareData.arrow,K=g.placement.split("-")[0];Object.assign(v.style,{left:P!=null?`${P}px`:"",top:C!=null?`${C}px`:"",[K]:"100%"})}}O(()=>{const y=l(),p=o();if(!y||!p)return;const v=go(y,p,d,{elementResize:typeof ResizeObserver=="function"});$(v)}),O(()=>{const y=o(),p=t.contentRef?.();!y||!p||queueMicrotask(()=>{y.style.zIndex=getComputedStyle(p).zIndex})});const m={currentPlacement:s,contentRef:()=>t.contentRef?.(),setPositionerRef:n,setArrowRef:i};return D(nt.Provider,{value:m,get children(){return t.children}})}var Rt=Object.assign(To,{Arrow:Ko,Context:nt,usePopperContext:ot,Positioner:Co}),Et=Z();function Lt(){return re(Et)}function Ao(){const e=Lt();if(e===void 0)throw new Error("[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component");return e}function Vt(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function Fo(e,t){const o=t.ref();if(!o)return-1;let n=e.length;if(!n)return-1;for(;n--;){const r=e[n]?.ref();if(r&&Vt(r,o))return n+1}return 0}function ko(e){const t=e.map((n,r)=>[r,n]);let o=!1;return t.sort(([n,r],[i,s])=>{const c=r.ref(),l=s.ref();return c===l||!c||!l?0:Vt(c,l)?(n>i&&(o=!0),-1):(n<i&&(o=!0),1)}),o?t.map(([n,r])=>r):e}function Bt(e,t){const o=ko(e);e!==o&&t(o)}function Ro(e){const t=e[0],o=e[e.length-1]?.ref();let n=t?.ref()?.parentElement;for(;n;){if(o&&n.contains(o))return n;n=n.parentElement}return fn(n).body}function Eo(e,t){O(()=>{const o=setTimeout(()=>{Bt(e(),t)});$(()=>clearTimeout(o))})}function Lo(e,t){if(typeof IntersectionObserver!="function"){Eo(e,t);return}let o=[];O(()=>{const n=()=>{const s=!!o.length;o=e(),s&&Bt(e(),t)},r=Ro(e()),i=new IntersectionObserver(n,{root:r});for(const s of e()){const c=s.ref();c&&i.observe(c)}$(()=>i.disconnect())})}function Vo(e={}){const[t,o]=un({value:()=>w(e.items),onChange:i=>e.onItemsChange?.(i)});Lo(t,o);const n=i=>(o(s=>{const c=Fo(s,i);return dn(s,i,c)}),()=>{o(s=>{const c=s.filter(l=>l.ref()!==i.ref());return s.length===c.length?s:c})});return{DomCollectionProvider:i=>D(Et.Provider,{value:{registerItem:n},get children(){return i.children}})}}function Bo(e){const t=Ao(),o=k({shouldRegisterItem:!0},e);O(()=>{if(!o.shouldRegisterItem)return;const n=t.registerItem(o.getItem());$(n)})}function $t(e){let t=e.startIndex??0;const o=e.startLevel??0,n=[],r=l=>{if(l==null)return"";const f=e.getKey??"key",d=Se(f)?l[f]:f(l);return d!=null?String(d):""},i=l=>{if(l==null)return"";const f=e.getTextValue??"textValue",d=Se(f)?l[f]:f(l);return d!=null?String(d):""},s=l=>{if(l==null)return!1;const f=e.getDisabled??"disabled";return(Se(f)?l[f]:f(l))??!1},c=l=>{if(l!=null)return Se(e.getSectionChildren)?l[e.getSectionChildren]:e.getSectionChildren?.(l)};for(const l of e.dataSource){if(Se(l)||gn(l)){n.push({type:"item",rawValue:l,key:String(l),textValue:String(l),disabled:s(l),level:o,index:t}),t++;continue}if(c(l)!=null){n.push({type:"section",rawValue:l,key:"",textValue:"",disabled:!1,level:o,index:t}),t++;const f=c(l)??[];if(f.length>0){const d=$t({dataSource:f,getKey:e.getKey,getTextValue:e.getTextValue,getDisabled:e.getDisabled,getSectionChildren:e.getSectionChildren,startIndex:t,startLevel:o+1});n.push(...d),t+=d.length}}else n.push({type:"item",rawValue:l,key:r(l),textValue:i(l),disabled:s(l),level:o,index:t}),t++}return n}function $o(e,t=[]){return z(()=>{const o=$t({dataSource:w(e.dataSource),getKey:w(e.getKey),getTextValue:w(e.getTextValue),getDisabled:w(e.getDisabled),getSectionChildren:w(e.getSectionChildren)});for(let n=0;n<t.length;n++)t[n]();return e.factory(o)})}var oe=class zt extends Set{anchorKey;currentKey;constructor(t,o,n){super(t),t instanceof zt?(this.anchorKey=o||t.anchorKey,this.currentKey=n||t.currentKey):(this.anchorKey=o,this.currentKey=n)}};function zo(e){const[t,o]=xt(e);return[()=>t()??new oe,o]}function Nt(e){return pn()?e.altKey:e.ctrlKey}function me(e){return yn()?e.metaKey:e.ctrlKey}function mt(e){return new oe(e)}function No(e,t){if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;return!0}function _o(e){const t=k({selectionMode:"none",selectionBehavior:"toggle"},e),[o,n]=T(!1),[r,i]=T(),s=z(()=>{const x=w(t.selectedKeys);return x!=null?mt(x):x}),c=z(()=>{const x=w(t.defaultSelectedKeys);return x!=null?mt(x):new oe}),[l,f]=zo({value:s,defaultValue:c,onChange:x=>t.onSelectionChange?.(x)}),[d,m]=T(w(t.selectionBehavior)),y=()=>w(t.selectionMode),p=()=>w(t.disallowEmptySelection)??!1,v=x=>{(w(t.allowDuplicateSelectionEvents)||!No(x,l()))&&f(x)};return O(()=>{const x=l();w(t.selectionBehavior)==="replace"&&d()==="toggle"&&typeof x=="object"&&x.size===0&&m("replace")}),O(()=>{m(w(t.selectionBehavior)??"toggle")}),{selectionMode:y,disallowEmptySelection:p,selectionBehavior:d,setSelectionBehavior:m,isFocused:o,setFocused:n,focusedKey:r,setFocusedKey:i,selectedKeys:l,setSelectedKeys:v}}function Uo(e){const[t,o]=T(""),[n,r]=T(-1);return{typeSelectHandlers:{onKeyDown:s=>{if(w(e.isDisabled))return;const c=w(e.keyboardDelegate),l=w(e.selectionManager);if(!c.getKeyForSearch)return;const f=Ho(s.key);if(!f||s.ctrlKey||s.metaKey)return;f===" "&&t().trim().length>0&&(s.preventDefault(),s.stopPropagation());let d=o(y=>y+f),m=c.getKeyForSearch(d,l.focusedKey())??c.getKeyForSearch(d);m==null&&Wo(d)&&(d=d[0],m=c.getKeyForSearch(d,l.focusedKey())??c.getKeyForSearch(d)),m!=null&&(l.setFocusedKey(m),e.onTypeSelect?.(m)),clearTimeout(n()),r(window.setTimeout(()=>o(""),500))}}}}function Ho(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Wo(e){return e.split("").every(t=>t===e[0])}function Go(e,t,o){const r=A({selectOnFocus:()=>w(e.selectionManager).selectionBehavior()==="replace"},e),i=()=>t(),{direction:s}=he();let c={top:0,left:0};kn(()=>w(r.isVirtualized)?void 0:i(),"scroll",()=>{const h=i();h&&(c={top:h.scrollTop,left:h.scrollLeft})});const{typeSelectHandlers:l}=Uo({isDisabled:()=>w(r.disallowTypeAhead),keyboardDelegate:()=>w(r.keyboardDelegate),selectionManager:()=>w(r.selectionManager)}),f=()=>w(r.orientation)??"vertical",d=h=>{V(h,l.onKeyDown),h.altKey&&h.key==="Tab"&&h.preventDefault();const u=t();if(!u?.contains(h.target))return;const g=w(r.selectionManager),a=w(r.selectOnFocus),S=K=>{K!=null&&(g.setFocusedKey(K),h.shiftKey&&g.selectionMode()==="multiple"?g.extendSelection(K):a&&!Nt(h)&&g.replaceSelection(K))},b=w(r.keyboardDelegate),P=w(r.shouldFocusWrap),C=g.focusedKey();switch(h.key){case(f()==="vertical"?"ArrowDown":"ArrowRight"):{if(b.getKeyBelow){h.preventDefault();let K;C!=null?K=b.getKeyBelow(C):K=b.getFirstKey?.(),K==null&&P&&(K=b.getFirstKey?.(C)),S(K)}break}case(f()==="vertical"?"ArrowUp":"ArrowLeft"):{if(b.getKeyAbove){h.preventDefault();let K;C!=null?K=b.getKeyAbove(C):K=b.getLastKey?.(),K==null&&P&&(K=b.getLastKey?.(C)),S(K)}break}case(f()==="vertical"?"ArrowLeft":"ArrowUp"):{if(b.getKeyLeftOf){h.preventDefault();const K=s()==="rtl";let M;C!=null?M=b.getKeyLeftOf(C):M=K?b.getFirstKey?.():b.getLastKey?.(),S(M)}break}case(f()==="vertical"?"ArrowRight":"ArrowDown"):{if(b.getKeyRightOf){h.preventDefault();const K=s()==="rtl";let M;C!=null?M=b.getKeyRightOf(C):M=K?b.getLastKey?.():b.getFirstKey?.(),S(M)}break}case"Home":if(b.getFirstKey){h.preventDefault();const K=b.getFirstKey(C,me(h));K!=null&&(g.setFocusedKey(K),me(h)&&h.shiftKey&&g.selectionMode()==="multiple"?g.extendSelection(K):a&&g.replaceSelection(K))}break;case"End":if(b.getLastKey){h.preventDefault();const K=b.getLastKey(C,me(h));K!=null&&(g.setFocusedKey(K),me(h)&&h.shiftKey&&g.selectionMode()==="multiple"?g.extendSelection(K):a&&g.replaceSelection(K))}break;case"PageDown":if(b.getKeyPageBelow&&C!=null){h.preventDefault();const K=b.getKeyPageBelow(C);S(K)}break;case"PageUp":if(b.getKeyPageAbove&&C!=null){h.preventDefault();const K=b.getKeyPageAbove(C);S(K)}break;case"a":me(h)&&g.selectionMode()==="multiple"&&w(r.disallowSelectAll)!==!0&&(h.preventDefault(),g.selectAll());break;case"Escape":h.defaultPrevented||(h.preventDefault(),w(r.disallowEmptySelection)||g.clearSelection());break;case"Tab":if(!w(r.allowsTabNavigation)){if(h.shiftKey)u.focus();else{const K=vn(u,{tabbable:!0});let M,F;do F=K.lastChild(),F&&(M=F);while(F);M&&!M.contains(document.activeElement)&&le(M)}break}}},m=h=>{const u=w(r.selectionManager),g=w(r.keyboardDelegate),a=w(r.selectOnFocus);if(u.isFocused()){h.currentTarget.contains(h.target)||u.setFocused(!1);return}if(h.currentTarget.contains(h.target)){if(u.setFocused(!0),u.focusedKey()==null){const S=P=>{P!=null&&(u.setFocusedKey(P),a&&u.replaceSelection(P))},b=h.relatedTarget;b&&h.currentTarget.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING?S(u.lastSelectedKey()??g.getLastKey?.()):S(u.firstSelectedKey()??g.getFirstKey?.())}else if(!w(r.isVirtualized)){const S=i();if(S){S.scrollTop=c.top,S.scrollLeft=c.left;const b=S.querySelector(`[data-key="${u.focusedKey()}"]`);b&&(le(b),lt(S,b))}}}},y=h=>{const u=w(r.selectionManager);h.currentTarget.contains(h.relatedTarget)||u.setFocused(!1)},p=h=>{i()===h.target&&h.preventDefault()},v=()=>{const h=w(r.autoFocus);if(!h)return;const u=w(r.selectionManager),g=w(r.keyboardDelegate);let a;h==="first"&&(a=g.getFirstKey?.()),h==="last"&&(a=g.getLastKey?.());const S=u.selectedKeys();S.size&&(a=S.values().next().value),u.setFocused(!0),u.setFocusedKey(a);const b=t();b&&a==null&&!w(r.shouldUseVirtualFocus)&&le(b)};return mn(()=>{r.deferAutoFocus?setTimeout(v,0):v()}),O(Ve([i,()=>w(r.isVirtualized),()=>w(r.selectionManager).focusedKey()],h=>{const[u,g,a]=h;if(g)a&&r.scrollToKey?.(a);else if(a&&u){const S=u.querySelector(`[data-key="${a}"]`);S&&lt(u,S)}})),{tabIndex:z(()=>{if(!w(r.shouldUseVirtualFocus))return w(r.selectionManager).focusedKey()==null?0:-1}),onKeyDown:d,onMouseDown:p,onFocusIn:m,onFocusOut:y}}function _t(e,t){const o=()=>w(e.selectionManager),n=()=>w(e.key),r=()=>w(e.shouldUseVirtualFocus),i=g=>{o().selectionMode()!=="none"&&(o().selectionMode()==="single"?o().isSelected(n())&&!o().disallowEmptySelection()?o().toggleSelection(n()):o().replaceSelection(n()):g?.shiftKey?o().extendSelection(n()):o().selectionBehavior()==="toggle"||me(g)||"pointerType"in g&&g.pointerType==="touch"?o().toggleSelection(n()):o().replaceSelection(n()))},s=()=>o().isSelected(n()),c=()=>w(e.disabled)||o().isDisabled(n()),l=()=>!c()&&o().canSelectItem(n());let f=null;const d=g=>{l()&&(f=g.pointerType,g.pointerType==="mouse"&&g.button===0&&!w(e.shouldSelectOnPressUp)&&i(g))},m=g=>{l()&&g.pointerType==="mouse"&&g.button===0&&w(e.shouldSelectOnPressUp)&&w(e.allowsDifferentPressOrigin)&&i(g)},y=g=>{l()&&(w(e.shouldSelectOnPressUp)&&!w(e.allowsDifferentPressOrigin)||f!=="mouse")&&i(g)},p=g=>{!l()||!["Enter"," "].includes(g.key)||(Nt(g)?o().toggleSelection(n()):i(g))},v=g=>{c()&&g.preventDefault()},x=g=>{const a=t();r()||c()||!a||g.target===a&&o().setFocusedKey(n())},h=z(()=>{if(!(r()||c()))return n()===o().focusedKey()?0:-1}),u=z(()=>w(e.virtualized)?void 0:n());return O(Ve([t,n,r,()=>o().focusedKey(),()=>o().isFocused()],([g,a,S,b,P])=>{g&&a===b&&P&&!S&&document.activeElement!==g&&(e.focus?e.focus():le(g))})),{isSelected:s,isDisabled:c,allowsSelection:l,tabIndex:h,dataKey:u,onPointerDown:d,onPointerUp:m,onClick:y,onKeyDown:p,onMouseDown:v,onFocus:x}}var Yo=class{collection;state;constructor(e,t){this.collection=e,this.state=t}selectionMode(){return this.state.selectionMode()}disallowEmptySelection(){return this.state.disallowEmptySelection()}selectionBehavior(){return this.state.selectionBehavior()}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}isFocused(){return this.state.isFocused()}setFocused(e){this.state.setFocused(e)}focusedKey(){return this.state.focusedKey()}setFocusedKey(e){(e==null||this.collection().getItem(e))&&this.state.setFocusedKey(e)}selectedKeys(){return this.state.selectedKeys()}isSelected(e){if(this.state.selectionMode()==="none")return!1;const t=this.getKey(e);return t==null?!1:this.state.selectedKeys().has(t)}isEmpty(){return this.state.selectedKeys().size===0}isSelectAll(){if(this.isEmpty())return!1;const e=this.state.selectedKeys();return this.getAllSelectableKeys().every(t=>e.has(t))}firstSelectedKey(){let e;for(const t of this.state.selectedKeys()){const o=this.collection().getItem(t),n=o?.index!=null&&e?.index!=null&&o.index<e.index;(!e||n)&&(e=o)}return e?.key}lastSelectedKey(){let e;for(const t of this.state.selectedKeys()){const o=this.collection().getItem(t),n=o?.index!=null&&e?.index!=null&&o.index>e.index;(!e||n)&&(e=o)}return e?.key}extendSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const o=this.state.selectedKeys(),n=o.anchorKey||t,r=new oe(o,n,t);for(const i of this.getKeyRange(n,o.currentKey||t))r.delete(i);for(const i of this.getKeyRange(t,n))this.canSelectItem(i)&&r.add(i);this.state.setSelectedKeys(r)}getKeyRange(e,t){const o=this.collection().getItem(e),n=this.collection().getItem(t);return o&&n?o.index!=null&&n.index!=null&&o.index<=n.index?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){const o=[];let n=e;for(;n!=null;){const r=this.collection().getItem(n);if(r&&r.type==="item"&&o.push(n),n===t)return o;n=this.collection().getKeyAfter(n)}return[]}getKey(e){const t=this.collection().getItem(e);return t?!t||t.type!=="item"?null:t.key:e}toggleSelection(e){if(this.selectionMode()==="none")return;if(this.selectionMode()==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}const t=this.getKey(e);if(t==null)return;const o=new oe(this.state.selectedKeys());o.has(t)?o.delete(t):this.canSelectItem(t)&&(o.add(t),o.anchorKey=t,o.currentKey=t),!(this.disallowEmptySelection()&&o.size===0)&&this.state.setSelectedKeys(o)}replaceSelection(e){if(this.selectionMode()==="none")return;const t=this.getKey(e);if(t==null)return;const o=this.canSelectItem(t)?new oe([t],t,t):new oe;this.state.setSelectedKeys(o)}setSelectedKeys(e){if(this.selectionMode()==="none")return;const t=new oe;for(const o of e){const n=this.getKey(o);if(n!=null&&(t.add(n),this.selectionMode()==="single"))break}this.state.setSelectedKeys(t)}selectAll(){this.selectionMode()==="multiple"&&this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()))}clearSelection(){const e=this.state.selectedKeys();!this.disallowEmptySelection()&&e.size>0&&this.state.setSelectedKeys(new oe)}toggleSelectAll(){this.isSelectAll()?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode()!=="none"&&(this.selectionMode()==="single"?this.isSelected(e)&&!this.disallowEmptySelection()?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior()==="toggle"||t&&t.pointerType==="touch"?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys())return!0;const t=this.selectedKeys();if(e.size!==t.size)return!1;for(const o of e)if(!t.has(o))return!1;for(const o of t)if(!e.has(o))return!1;return!0}canSelectItem(e){if(this.state.selectionMode()==="none")return!1;const t=this.collection().getItem(e);return t!=null&&!t.disabled}isDisabled(e){const t=this.collection().getItem(e);return!t||t.disabled}getAllSelectableKeys(){const e=[];return(o=>{for(;o!=null;){if(this.canSelectItem(o)){const n=this.collection().getItem(o);if(!n)continue;n.type==="item"&&e.push(o)}o=this.collection().getKeyAfter(o)}})(this.collection().getFirstKey()),e}},yt=class{keyMap=new Map;iterable;firstKey;lastKey;constructor(e){this.iterable=e;for(const n of e)this.keyMap.set(n.key,n);if(this.keyMap.size===0)return;let t,o=0;for(const[n,r]of this.keyMap)t?(t.nextKey=n,r.prevKey=t.key):(this.firstKey=n,r.prevKey=void 0),r.type==="item"&&(r.index=o++),t=r,t.nextKey=void 0;this.lastKey=t.key}*[Symbol.iterator](){yield*this.iterable}getSize(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(e){return this.keyMap.get(e)?.prevKey}getKeyAfter(e){return this.keyMap.get(e)?.nextKey}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(e){return this.keyMap.get(e)}at(e){const t=[...this.getKeys()];return this.getItem(t[e])}};function Xo(e){const t=_o(e),n=$o({dataSource:()=>w(e.dataSource),getKey:()=>w(e.getKey),getTextValue:()=>w(e.getTextValue),getDisabled:()=>w(e.getDisabled),getSectionChildren:()=>w(e.getSectionChildren),factory:i=>e.filter?new yt(e.filter(i)):new yt(i)},[()=>e.filter]),r=new Yo(n,t);return hn(()=>{const i=t.focusedKey();i!=null&&!n().getItem(i)&&t.setFocusedKey(void 0)}),{collection:n,selectionManager:()=>r}}var jo=class{collection;ref;collator;constructor(e,t,o){this.collection=e,this.ref=t,this.collator=o}getKeyBelow(e){let t=this.collection().getKeyAfter(e);for(;t!=null;){const o=this.collection().getItem(t);if(o&&o.type==="item"&&!o.disabled)return t;t=this.collection().getKeyAfter(t)}}getKeyAbove(e){let t=this.collection().getKeyBefore(e);for(;t!=null;){const o=this.collection().getItem(t);if(o&&o.type==="item"&&!o.disabled)return t;t=this.collection().getKeyBefore(t)}}getFirstKey(){let e=this.collection().getFirstKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyAfter(e)}}getLastKey(){let e=this.collection().getLastKey();for(;e!=null;){const t=this.collection().getItem(e);if(t&&t.type==="item"&&!t.disabled)return e;e=this.collection().getKeyBefore(e)}}getItem(e){return this.ref?.()?.querySelector(`[data-key="${e}"]`)??null}getKeyPageAbove(e){const t=this.ref?.();let o=this.getItem(e);if(!t||!o)return;const n=Math.max(0,o.offsetTop+o.offsetHeight-t.offsetHeight);let r=e;for(;r&&o&&o.offsetTop>n;)r=this.getKeyAbove(r),o=r!=null?this.getItem(r):null;return r}getKeyPageBelow(e){const t=this.ref?.();let o=this.getItem(e);if(!t||!o)return;const n=Math.min(t.scrollHeight,o.offsetTop-o.offsetHeight+t.offsetHeight);let r=e;for(;r&&o&&o.offsetTop<n;)r=this.getKeyBelow(r),o=r!=null?this.getItem(r):null;return r}getKeyForSearch(e,t){const o=this.collator?.();if(!o)return;let n=t!=null?this.getKeyBelow(t):this.getFirstKey();for(;n!=null;){const r=this.collection().getItem(n);if(r){const i=r.textValue.slice(0,e.length);if(r.textValue&&o.compare(i,e)===0)return n}n=this.getKeyBelow(n)}}};function qo(e,t,o){const n=wn({usage:"search",sensitivity:"base"}),r=z(()=>{const i=w(e.keyboardDelegate);return i||new jo(e.collection,t,n)});return Go({selectionManager:()=>w(e.selectionManager),keyboardDelegate:r,autoFocus:()=>w(e.autoFocus),deferAutoFocus:()=>w(e.deferAutoFocus),shouldFocusWrap:()=>w(e.shouldFocusWrap),disallowEmptySelection:()=>w(e.disallowEmptySelection),selectOnFocus:()=>w(e.selectOnFocus),disallowTypeAhead:()=>w(e.disallowTypeAhead),shouldUseVirtualFocus:()=>w(e.shouldUseVirtualFocus),allowsTabNavigation:()=>w(e.allowsTabNavigation),isVirtualized:()=>w(e.isVirtualized),scrollToKey:i=>w(e.scrollToKey)?.(i),orientation:()=>w(e.orientation)},t)}function Zo(e={}){const[t,o]=bn({value:()=>w(e.isSelected),defaultValue:()=>!!w(e.defaultIsSelected),onChange:i=>e.onSelectedChange?.(i)});return{isSelected:t,setIsSelected:i=>{!w(e.isReadOnly)&&!w(e.isDisabled)&&o(i)},toggle:()=>{!w(e.isReadOnly)&&!w(e.isDisabled)&&o(!t())}}}var Ut=Z();function Ht(){return re(Ut)}function fe(){const e=Ht();if(e===void 0)throw new Error("[kobalte]: `useMenuContext` must be used within a `Menu` component");return e}var Wt=Z();function rt(){const e=re(Wt);if(e===void 0)throw new Error("[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component");return e}var Gt=Z();function se(){const e=re(Gt);if(e===void 0)throw new Error("[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component");return e}function it(e){let t;const o=se(),n=fe(),r=k({id:o.generateId(`item-${we()}`)},e),[i,s]=E(r,["ref","textValue","disabled","closeOnSelect","checked","indeterminate","onSelect","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),[c,l]=T(),[f,d]=T(),[m,y]=T(),p=()=>n.listState().selectionManager(),v=()=>s.id,x=()=>p().focusedKey()===v(),h=()=>{i.onSelect?.(),i.closeOnSelect&&setTimeout(()=>{n.close(!0)})};Bo({getItem:()=>({ref:()=>t,type:"item",key:v(),textValue:i.textValue??m()?.textContent??t?.textContent??"",disabled:i.disabled??!1})});const u=_t({key:v,selectionManager:p,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>i.disabled},()=>t),g=M=>{V(M,i.onPointerMove),M.pointerType==="mouse"&&(i.disabled?n.onItemLeave(M):(n.onItemEnter(M),M.defaultPrevented||(le(M.currentTarget),n.listState().selectionManager().setFocused(!0),n.listState().selectionManager().setFocusedKey(v()))))},a=M=>{V(M,i.onPointerLeave),M.pointerType==="mouse"&&n.onItemLeave(M)},S=M=>{V(M,i.onPointerUp),!i.disabled&&M.button===0&&h()},b=M=>{if(V(M,i.onKeyDown),!M.repeat&&!i.disabled)switch(M.key){case"Enter":case" ":h();break}},P=z(()=>{if(i.indeterminate)return"mixed";if(i.checked!=null)return i.checked}),C=z(()=>({"data-indeterminate":i.indeterminate?"":void 0,"data-checked":i.checked&&!i.indeterminate?"":void 0,"data-disabled":i.disabled?"":void 0,"data-highlighted":x()?"":void 0})),K={isChecked:()=>i.checked,dataset:C,setLabelRef:y,generateId:je(()=>s.id),registerLabel:Me(l),registerDescription:Me(d)};return D(Wt.Provider,{value:K,get children(){return D(Y,A({as:"div",ref(M){var F=ie(H=>t=H,i.ref);typeof F=="function"&&F(M)},get tabIndex(){return u.tabIndex()},get"aria-checked"(){return P()},get"aria-disabled"(){return i.disabled},get"aria-labelledby"(){return c()},get"aria-describedby"(){return f()},get"data-key"(){return u.dataKey()},get onPointerDown(){return B([i.onPointerDown,u.onPointerDown])},get onPointerUp(){return B([S,u.onPointerUp])},get onClick(){return B([i.onClick,u.onClick])},get onKeyDown(){return B([b,u.onKeyDown])},get onMouseDown(){return B([i.onMouseDown,u.onMouseDown])},get onFocus(){return B([i.onFocus,u.onFocus])},onPointerMove:g,onPointerLeave:a},C,s))}})}function gr(e){const t=k({closeOnSelect:!1},e),[o,n]=E(t,["checked","defaultChecked","onChange","onSelect"]),r=Zo({isSelected:()=>o.checked,defaultIsSelected:()=>o.defaultChecked,onSelectedChange:s=>o.onChange?.(s),isDisabled:()=>n.disabled});return D(it,A({role:"menuitemcheckbox",get checked(){return r.isSelected()},onSelect:()=>{o.onSelect?.(),r.toggle()}},n))}var Jo=Z();function Oe(){return re(Jo)}function hr(){const e=Oe();if(e===void 0)throw new Error("[kobalte]: `useMenubarContext` must be used within a `Menubar` component");return e}var De={next:(e,t)=>e==="ltr"?t==="horizontal"?"ArrowRight":"ArrowDown":t==="horizontal"?"ArrowLeft":"ArrowUp",previous:(e,t)=>De.next(e==="ltr"?"rtl":"ltr",t)},vt={first:e=>e==="horizontal"?"ArrowDown":"ArrowRight",last:e=>e==="horizontal"?"ArrowUp":"ArrowLeft"};function pr(e){const t=se(),o=fe(),n=Oe(),{direction:r}=he(),i=k({id:t.generateId("trigger")},e),[s,c]=E(i,["ref","id","disabled","onPointerDown","onClick","onKeyDown","onMouseOver","onFocus"]);let l=()=>t.value();n!==void 0&&(l=()=>t.value()??s.id,n.lastValue()===void 0&&n.setLastValue(l));const f=St(()=>o.triggerRef(),()=>"button"),d=z(()=>f()==="a"&&o.triggerRef()?.getAttribute("href")!=null);O(Ve(()=>n?.value(),u=>{d()&&u===l()&&o.triggerRef()?.focus()}));const m=()=>{n!==void 0?o.isOpen()?n.value()===l()&&n.closeMenu():(n.autoFocusMenu()||n.setAutoFocusMenu(!0),o.open(!1)):o.toggle(!0)},y=u=>{V(u,s.onPointerDown),u.currentTarget.dataset.pointerType=u.pointerType,!s.disabled&&u.pointerType!=="touch"&&u.button===0&&m()},p=u=>{V(u,s.onClick),s.disabled||u.currentTarget.dataset.pointerType==="touch"&&m()},v=u=>{if(V(u,s.onKeyDown),!s.disabled){if(d())switch(u.key){case"Enter":case" ":return}switch(u.key){case"Enter":case" ":case vt.first(t.orientation()):u.stopPropagation(),u.preventDefault(),In(u.currentTarget),o.open("first"),n?.setAutoFocusMenu(!0),n?.setValue(l);break;case vt.last(t.orientation()):u.stopPropagation(),u.preventDefault(),o.open("last");break;case De.next(r(),t.orientation()):if(n===void 0)break;u.stopPropagation(),u.preventDefault(),n.nextMenu();break;case De.previous(r(),t.orientation()):if(n===void 0)break;u.stopPropagation(),u.preventDefault(),n.previousMenu();break}}},x=u=>{V(u,s.onMouseOver),o.triggerRef()?.dataset.pointerType!=="touch"&&!s.disabled&&n!==void 0&&n.value()!==void 0&&n.setValue(l)},h=u=>{V(u,s.onFocus),n!==void 0&&u.currentTarget.dataset.pointerType!=="touch"&&n.setValue(l)};return O(()=>$(o.registerTriggerId(s.id))),D(xn,A({ref(u){var g=ie(o.setTriggerRef,s.ref);typeof g=="function"&&g(u)},get"data-kb-menu-value-trigger"(){return t.value()},get id(){return s.id},get disabled(){return s.disabled},"aria-haspopup":"true",get"aria-expanded"(){return o.isOpen()},get"aria-controls"(){return z(()=>!!o.isOpen())()?o.contentId():void 0},get"data-highlighted"(){return l()!==void 0&&n?.value()===l()?!0:void 0},get tabIndex(){return n!==void 0?n.value()===l()||n.lastValue()===l()?0:-1:void 0},onPointerDown:y,onMouseOver:x,onClick:p,onKeyDown:v,onFocus:h,role:n!==void 0?"menuitem":void 0},()=>o.dataset(),c))}var Qo=Z();function Yt(){return re(Qo)}function Xt(e){let t;const o=se(),n=fe(),r=Oe(),i=Yt(),{direction:s}=he(),c=k({id:o.generateId(`content-${we()}`)},e),[l,f]=E(c,["ref","id","style","onOpenAutoFocus","onCloseAutoFocus","onEscapeKeyDown","onFocusOutside","onPointerEnter","onPointerMove","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]);let d=0;const m=()=>n.parentMenuContext()==null&&r===void 0&&o.isModal(),y=qo({selectionManager:n.listState().selectionManager,collection:n.listState().collection,autoFocus:n.autoFocus,deferAutoFocus:!0,shouldFocusWrap:!0,disallowTypeAhead:()=>!n.listState().selectionManager().isFocused(),orientation:()=>o.orientation()==="horizontal"?"vertical":"horizontal"},()=>t);Mn({trapFocus:()=>m()&&n.isOpen(),onMountAutoFocus:a=>{r===void 0&&l.onOpenAutoFocus?.(a)},onUnmountAutoFocus:l.onCloseAutoFocus},()=>t);const p=a=>{if(ke(a.currentTarget,a.target)&&(a.key==="Tab"&&n.isOpen()&&a.preventDefault(),r!==void 0&&a.currentTarget.getAttribute("aria-haspopup")!=="true"))switch(a.key){case De.next(s(),o.orientation()):a.stopPropagation(),a.preventDefault(),n.close(!0),r.setAutoFocusMenu(!0),r.nextMenu();break;case De.previous(s(),o.orientation()):if(a.currentTarget.hasAttribute("data-closed"))break;a.stopPropagation(),a.preventDefault(),n.close(!0),r.setAutoFocusMenu(!0),r.previousMenu();break}},v=a=>{l.onEscapeKeyDown?.(a),r?.setAutoFocusMenu(!1),n.close(!0)},x=a=>{l.onFocusOutside?.(a),o.isModal()&&a.preventDefault()},h=a=>{V(a,l.onPointerEnter),n.isOpen()&&(n.parentMenuContext()?.listState().selectionManager().setFocused(!1),n.parentMenuContext()?.listState().selectionManager().setFocusedKey(void 0))},u=a=>{if(V(a,l.onPointerMove),a.pointerType!=="mouse")return;const S=a.target,b=d!==a.clientX;ke(a.currentTarget,S)&&b&&(n.setPointerDir(a.clientX>d?"right":"left"),d=a.clientX)};O(()=>$(n.registerContentId(l.id))),$(()=>n.setContentRef(void 0));const g={ref:ie(a=>{n.setContentRef(a),t=a},l.ref),role:"menu",get id(){return l.id},get tabIndex(){return y.tabIndex()},get"aria-labelledby"(){return n.triggerId()},onKeyDown:B([l.onKeyDown,y.onKeyDown,p]),onMouseDown:B([l.onMouseDown,y.onMouseDown]),onFocusIn:B([l.onFocusIn,y.onFocusIn]),onFocusOut:B([l.onFocusOut,y.onFocusOut]),onPointerEnter:h,onPointerMove:u,get"data-orientation"(){return o.orientation()}};return D(Ke,{get when(){return n.contentPresent()},get children(){return D(Ke,{get when(){return i===void 0||n.parentMenuContext()!=null},get fallback(){return D(Y,A({as:"div"},()=>n.dataset(),g,f))},get children(){return D(Rt.Positioner,{get children(){return D(Cn,A({get disableOutsidePointerEvents(){return z(()=>!!m())()&&n.isOpen()},get excludedElements(){return[n.triggerRef]},bypassTopMostLayerCheck:!0,get style(){return Xe({"--kb-menu-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative"},l.style)},onEscapeKeyDown:v,onFocusOutside:x,get onDismiss(){return n.close}},()=>n.dataset(),g,f))}})}})}})}function mr(e){let t;const o=se(),n=fe(),[r,i]=E(e,["ref"]);return Sn({element:()=>t??null,enabled:()=>n.contentPresent()&&o.preventScroll()}),D(Xt,A({ref(s){var c=ie(l=>{t=l},r.ref);typeof c=="function"&&c(s)}},i))}var jt=Z();function er(){const e=re(jt);if(e===void 0)throw new Error("[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component");return e}function tr(e){const t=se(),o=k({id:t.generateId(`group-${we()}`)},e),[n,r]=T(),i={generateId:je(()=>o.id),registerLabelId:Me(r)};return D(jt.Provider,{value:i,get children(){return D(Y,A({as:"div",role:"group",get"aria-labelledby"(){return n()}},o))}})}function yr(e){const t=er(),o=k({id:t.generateId("label")},e),[n,r]=E(o,["id"]);return O(()=>$(t.registerLabelId(n.id))),D(Y,A({as:"span",get id(){return n.id},"aria-hidden":"true"},r))}function vr(e){const t=fe(),o=k({children:"▼"},e);return D(Y,A({as:"span","aria-hidden":"true"},()=>t.dataset(),o))}function wr(e){return D(it,A({role:"menuitem",closeOnSelect:!0},e))}function br(e){const t=rt(),o=k({id:t.generateId("description")},e),[n,r]=E(o,["id"]);return O(()=>$(t.registerDescription(n.id))),D(Y,A({as:"div",get id(){return n.id}},()=>t.dataset(),r))}function xr(e){const t=rt(),o=k({id:t.generateId("indicator")},e),[n,r]=E(o,["forceMount"]);return D(Ke,{get when(){return n.forceMount||t.isChecked()},get children(){return D(Y,A({as:"div"},()=>t.dataset(),r))}})}function Sr(e){const t=rt(),o=k({id:t.generateId("label")},e),[n,r]=E(o,["ref","id"]);return O(()=>$(t.registerLabel(n.id))),D(Y,A({as:"div",ref(i){var s=ie(t.setLabelRef,n.ref);typeof s=="function"&&s(i)},get id(){return n.id}},()=>t.dataset(),r))}function Kr(e){const t=fe();return D(Ke,{get when(){return t.contentPresent()},get children(){return D(Kn,e)}})}var qt=Z();function nr(){const e=re(qt);if(e===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return e}function Mr(e){const o=se().generateId(`radiogroup-${we()}`),n=k({id:o},e),[r,i]=E(n,["value","defaultValue","onChange","disabled"]),[s,c]=xt({value:()=>r.value,defaultValue:()=>r.defaultValue,onChange:f=>r.onChange?.(f)}),l={isDisabled:()=>r.disabled,isSelectedValue:f=>f===s(),setSelectedValue:c};return D(qt.Provider,{value:l,get children(){return D(tr,i)}})}function Cr(e){const t=nr(),o=k({closeOnSelect:!1},e),[n,r]=E(o,["value","onSelect"]);return D(it,A({role:"menuitemradio",get checked(){return t.isSelectedValue(n.value)},onSelect:()=>{n.onSelect?.(),t.setSelectedValue(n.value)}},r))}function or(e,t,o){const n=e.split("-")[0],r=o.getBoundingClientRect(),i=[],s=t.clientX,c=t.clientY;switch(n){case"top":i.push([s,c+5]),i.push([r.left,r.bottom]),i.push([r.left,r.top]),i.push([r.right,r.top]),i.push([r.right,r.bottom]);break;case"right":i.push([s-5,c]),i.push([r.left,r.top]),i.push([r.right,r.top]),i.push([r.right,r.bottom]),i.push([r.left,r.bottom]);break;case"bottom":i.push([s,c-5]),i.push([r.right,r.top]),i.push([r.right,r.bottom]),i.push([r.left,r.bottom]),i.push([r.left,r.top]);break;case"left":i.push([s+5,c]),i.push([r.right,r.bottom]),i.push([r.left,r.bottom]),i.push([r.left,r.top]),i.push([r.right,r.top]);break}return i}function rr(e,t){return t?Tn([e.clientX,e.clientY],t):!1}function Zt(e){const t=se(),o=Lt(),n=Ht(),r=Oe(),i=Yt(),s=k({placement:t.orientation()==="horizontal"?"bottom-start":"right-start"},e),[c,l]=E(s,["open","defaultOpen","onOpenChange"]);let f=0,d=null,m="right";const[y,p]=T(),[v,x]=T(),[h,u]=T(),[g,a]=T(),[S,b]=T(!0),[P,C]=T(l.placement),[K,M]=T([]),[F,H]=T([]),{DomCollectionProvider:W}=Vo({items:F,onItemsChange:H}),R=Kt({open:()=>c.open,defaultOpen:()=>c.defaultOpen,onOpenChange:I=>c.onOpenChange?.(I)}),{present:L}=Pn({show:()=>t.forceMount()||R.isOpen(),element:()=>g()??null}),J=Xo({selectionMode:"none",dataSource:F}),G=I=>{b(I),R.open()},N=(I=!1)=>{R.close(),I&&n&&n.close(!0)},Q=I=>{b(I),R.toggle()},X=()=>{const I=g();I&&(le(I),J.selectionManager().setFocused(!0),J.selectionManager().setFocusedKey(void 0))},Te=()=>{i!=null?setTimeout(()=>X()):X()},Qt=I=>{M(_e=>[..._e,I]);const Ae=n?.registerNestedMenu(I);return()=>{M(_e=>On(_e,I)),Ae?.()}},Ne=I=>m===d?.side&&rr(I,d?.area),en=I=>{Ne(I)&&I.preventDefault()},tn=I=>{Ne(I)||Te()},nn=I=>{Ne(I)&&I.preventDefault()};Dn({isDisabled:()=>!(n==null&&R.isOpen()&&t.isModal()),targets:()=>[g(),...K()].filter(Boolean)}),O(()=>{const I=g();if(!I||!n)return;const Ae=n.registerNestedMenu(I);$(()=>{Ae()})}),O(()=>{n===void 0&&r?.registerMenu(t.value(),[g(),...K()])}),O(()=>{n!==void 0||r===void 0||(r.value()===t.value()?(h()?.focus(),r.autoFocusMenu()&&G(!0)):N())}),O(()=>{n!==void 0||r===void 0||R.isOpen()&&r.setValue(t.value())}),$(()=>{n===void 0&&r?.unregisterMenu(t.value())});const on={dataset:z(()=>({"data-expanded":R.isOpen()?"":void 0,"data-closed":R.isOpen()?void 0:""})),isOpen:R.isOpen,contentPresent:L,nestedMenus:K,currentPlacement:P,pointerGraceTimeoutId:()=>f,autoFocus:S,listState:()=>J,parentMenuContext:()=>n,triggerRef:h,contentRef:g,triggerId:y,contentId:v,setTriggerRef:u,setContentRef:a,open:G,close:N,toggle:Q,focusContent:Te,onItemEnter:en,onItemLeave:tn,onTriggerLeave:nn,setPointerDir:I=>m=I,setPointerGraceTimeoutId:I=>f=I,setPointerGraceIntent:I=>d=I,registerNestedMenu:Qt,registerItemToParentDomCollection:o?.registerItem,registerTriggerId:Me(p),registerContentId:Me(x)};return D(W,{get children(){return D(Ut.Provider,{value:on,get children(){return D(Ke,{when:i===void 0,get fallback(){return l.children},get children(){return D(Rt,A({anchorRef:h,contentRef:g,onCurrentPlacementChange:C},l))}})}})}})}function Pr(e){const{direction:t}=he();return D(Zt,A({get placement(){return t()==="rtl"?"left-start":"right-start"},flip:!0},e))}var ir={close:(e,t)=>e==="ltr"?[t==="horizontal"?"ArrowLeft":"ArrowUp"]:[t==="horizontal"?"ArrowRight":"ArrowDown"]};function Dr(e){const t=fe(),o=se(),[n,r]=E(e,["onFocusOutside","onKeyDown"]),{direction:i}=he();return D(Xt,A({onOpenAutoFocus:d=>{d.preventDefault()},onCloseAutoFocus:d=>{d.preventDefault()},onFocusOutside:d=>{n.onFocusOutside?.(d);const m=d.target;ke(t.triggerRef(),m)||t.close()},onKeyDown:d=>{V(d,n.onKeyDown);const m=ke(d.currentTarget,d.target),y=ir.close(i(),o.orientation()).includes(d.key),p=t.parentMenuContext()!=null;m&&y&&p&&(t.close(),le(t.triggerRef()))}},r))}var wt=["Enter"," "],sr={open:(e,t)=>e==="ltr"?[...wt,t==="horizontal"?"ArrowRight":"ArrowDown"]:[...wt,t==="horizontal"?"ArrowLeft":"ArrowUp"]};function Ir(e){let t;const o=se(),n=fe(),r=k({id:o.generateId(`sub-trigger-${we()}`)},e),[i,s]=E(r,["ref","id","textValue","disabled","onPointerMove","onPointerLeave","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]);let c=null;const l=()=>{c&&window.clearTimeout(c),c=null},{direction:f}=he(),d=()=>i.id,m=()=>{const a=n.parentMenuContext();if(a==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");return a.listState().selectionManager()},y=()=>n.listState().collection(),p=()=>m().focusedKey()===d(),v=_t({key:d,selectionManager:m,shouldSelectOnPressUp:!0,allowsDifferentPressOrigin:!0,disabled:()=>i.disabled},()=>t),x=a=>{V(a,i.onClick),!n.isOpen()&&!i.disabled&&n.open(!0)},h=a=>{if(V(a,i.onPointerMove),a.pointerType!=="mouse")return;const S=n.parentMenuContext();if(S?.onItemEnter(a),!a.defaultPrevented){if(i.disabled){S?.onItemLeave(a);return}!n.isOpen()&&!c&&(n.parentMenuContext()?.setPointerGraceIntent(null),c=window.setTimeout(()=>{n.open(!1),l()},100)),S?.onItemEnter(a),a.defaultPrevented||(n.listState().selectionManager().isFocused()&&(n.listState().selectionManager().setFocused(!1),n.listState().selectionManager().setFocusedKey(void 0)),le(a.currentTarget),S?.listState().selectionManager().setFocused(!0),S?.listState().selectionManager().setFocusedKey(d()))}},u=a=>{if(V(a,i.onPointerLeave),a.pointerType!=="mouse")return;l();const S=n.parentMenuContext(),b=n.contentRef();if(b){S?.setPointerGraceIntent({area:or(n.currentPlacement(),a,b),side:n.currentPlacement().split("-")[0]}),window.clearTimeout(S?.pointerGraceTimeoutId());const P=window.setTimeout(()=>{S?.setPointerGraceIntent(null)},300);S?.setPointerGraceTimeoutId(P)}else{if(S?.onTriggerLeave(a),a.defaultPrevented)return;S?.setPointerGraceIntent(null)}S?.onItemLeave(a)},g=a=>{V(a,i.onKeyDown),!a.repeat&&(i.disabled||sr.open(f(),o.orientation()).includes(a.key)&&(a.stopPropagation(),a.preventDefault(),m().setFocused(!1),m().setFocusedKey(void 0),n.isOpen()||n.open("first"),n.focusContent(),n.listState().selectionManager().setFocused(!0),n.listState().selectionManager().setFocusedKey(y().getFirstKey())))};return O(()=>{if(n.registerItemToParentDomCollection==null)throw new Error("[kobalte]: `Menu.SubTrigger` must be used within a `Menu.Sub` component");const a=n.registerItemToParentDomCollection({ref:()=>t,type:"item",key:d(),textValue:i.textValue??t?.textContent??"",disabled:i.disabled??!1});$(a)}),O(Ve(()=>n.parentMenuContext()?.pointerGraceTimeoutId(),a=>{$(()=>{window.clearTimeout(a),n.parentMenuContext()?.setPointerGraceIntent(null)})})),O(()=>$(n.registerTriggerId(i.id))),$(()=>{l()}),D(Y,A({as:"div",ref(a){var S=ie(b=>{n.setTriggerRef(b),t=b},i.ref);typeof S=="function"&&S(a)},get id(){return i.id},role:"menuitem",get tabIndex(){return v.tabIndex()},"aria-haspopup":"true",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return z(()=>!!n.isOpen())()?n.contentId():void 0},get"aria-disabled"(){return i.disabled},get"data-key"(){return v.dataKey()},get"data-highlighted"(){return p()?"":void 0},get"data-disabled"(){return i.disabled?"":void 0},get onPointerDown(){return B([i.onPointerDown,v.onPointerDown])},get onPointerUp(){return B([i.onPointerUp,v.onPointerUp])},get onClick(){return B([x,v.onClick])},get onKeyDown(){return B([g,v.onKeyDown])},get onMouseDown(){return B([i.onMouseDown,v.onMouseDown])},get onFocus(){return B([i.onFocus,v.onFocus])},onPointerMove:h,onPointerLeave:u},()=>n.dataset(),s))}function Or(e){const t=Oe(),o=`menu-${we()}`,n=k({id:o,modal:!0},e),[r,i]=E(n,["id","modal","preventScroll","forceMount","open","defaultOpen","onOpenChange","value","orientation"]),s=Kt({open:()=>r.open,defaultOpen:()=>r.defaultOpen,onOpenChange:l=>r.onOpenChange?.(l)}),c={isModal:()=>r.modal??!0,preventScroll:()=>r.preventScroll??c.isModal(),forceMount:()=>r.forceMount??!1,generateId:je(()=>r.id),value:()=>r.value,orientation:()=>r.orientation??t?.orientation()??"horizontal"};return D(Gt.Provider,{value:c,get children(){return D(Zt,A({get open(){return s.isOpen()},get onOpenChange(){return s.setIsOpen}},i))}})}var lr={};An(lr,{Root:()=>Jt,Separator:()=>cr});function Jt(e){let t;const o=k({orientation:"horizontal"},e),[n,r]=E(o,["ref","orientation"]),i=St(()=>t,()=>"hr");return D(Y,A({as:"hr",ref(s){var c=ie(l=>t=l,n.ref);typeof c=="function"&&c(s)},get role(){return i()!=="hr"?"separator":void 0},get"aria-orientation"(){return n.orientation==="vertical"?"vertical":void 0},get"data-orientation"(){return n.orientation}},r))}var cr=Jt;const ar=Z({});function Tr(e){const[t,o]=T(!1);return D(ar.Provider,{value:{isSorted:t,setIsSorted:o},get children(){return e.children}})}const ur=Z({});function Ar(e){const[t,o]=T(!1);return D(ur.Provider,{value:{isSorting:t,setIsSorting:o},get children(){return e.children}})}export{Ar as I,Or as M,Ko as P,Jt as S,Jo as a,Ht as b,pr as c,gr as d,mr as e,tr as f,yr as g,vr as h,wr as i,br as j,xr as k,Sr as l,Kr as m,Mr as n,Cr as o,Pr as p,Dr as q,Ir as r,Tr as s,ur as t,hr as u,se as v,fe as w,ar as x};
